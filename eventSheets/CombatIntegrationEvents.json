{
    "is-c3-clipboard-data": true,
    "type": "events",
    "items": [
        {
            "eventType": "trigger",
            "name": "On start of combat layout",
            "eventData": {
                "eventType": "trigger",
                "eventKey": "on-start-of-layout"
            },
            "actions": [
                {
                    "actionType": "variable",
                    "name": "Set playerAttack",
                    "actionData": {
                        "variable": "playerAttack",
                        "value": "20 + (playerStrength * 2)"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set currentHP",
                    "actionData": {
                        "variable": "currentHP",
                        "value": "80 + (playerVitality * 4)"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set maxHP",
                    "actionData": {
                        "variable": "currentHP",
                        "value": "80 + (playerVitality * 4)"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set movementSpeed",
                    "actionData": {
                        "variable": "movementSpeed",
                        "value": "0.05 + (playerSpeed * 0.01)"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set dodgeChance",
                    "actionData": {
                        "variable": "dodgeChance",
                        "value": "playerAgility * 5"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set defenseBonus",
                    "actionData": {
                        "variable": "defenseBonus",
                        "value": "playerDefense * 2"
                    }
                }
            ]
        },
        {
            "eventType": "trigger",
            "name": "On enemy attack - Apply defense",
            "eventData": {
                "eventType": "trigger",
                "eventKey": "on-enemy-attack"
            },
            "actions": [
                {
                    "actionType": "variable",
                    "name": "Set damageReduction",
                    "actionData": {
                        "variable": "damageReduction",
                        "value": "enemyAttack - defenseBonus"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set finalDamage",
                    "actionData": {
                        "variable": "finalDamage",
                        "value": "max(damageReduction, 1)"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set currentHP",
                    "actionData": {
                        "variable": "currentHP",
                        "value": "max(currentHP - finalDamage, 0)"
                    }
                }
            ]
        },
        {
            "eventType": "trigger",
            "name": "On player dodge check",
            "eventData": {
                "eventType": "trigger",
                "eventKey": "on-dodge-check"
            },
            "actions": [
                {
                    "actionType": "variable",
                    "name": "Set randomDodgeValue",
                    "actionData": {
                        "variable": "randomDodgeValue",
                        "value": "random(1, 100)"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set playerDodged",
                    "actionData": {
                        "variable": "playerDodged",
                        "value": "randomDodgeValue <= dodgeChance"
                    }
                }
            ]
        },
        {
            "eventType": "trigger",
            "name": "On player attack - Apply strength bonus",
            "eventData": {
                "eventType": "trigger",
                "eventKey": "on-player-attack"
            },
            "actions": [
                {
                    "actionType": "variable",
                    "name": "Set baseDamage",
                    "actionData": {
                        "variable": "baseDamage",
                        "value": "playerAttack"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set strengthBonus",
                    "actionData": {
                        "variable": "strengthBonus",
                        "value": "playerStrength * 1.5"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set totalDamage",
                    "actionData": {
                        "variable": "totalDamage",
                        "value": "baseDamage + strengthBonus"
                    }
                }
            ]
        },
        {
            "eventType": "trigger",
            "name": "On player movement - Apply speed bonus",
            "eventData": {
                "eventType": "trigger",
                "eventKey": "on-player-move"
            },
            "actions": [
                {
                    "actionType": "variable",
                    "name": "Set adjustedMoveSpeed",
                    "actionData": {
                        "variable": "moveSpeed",
                        "value": "0.05 + (playerSpeed * 0.008)"
                    }
                }
            ]
        },
        {
            "eventType": "trigger",
            "name": "On health regeneration - Apply vitality bonus",
            "eventData": {
                "eventType": "trigger",
                "eventKey": "on-health-regen"
            },
            "actions": [
                {
                    "actionType": "variable",
                    "name": "Set regenAmount",
                    "actionData": {
                        "variable": "regenAmount",
                        "value": "2 + (playerVitality * 0.5)"
                    }
                },
                {
                    "actionType": "variable",
                    "name": "Set currentHP",
                    "actionData": {
                        "variable": "currentHP",
                        "value": "min(currentHP + regenAmount, maxHP)"
                    }
                }
            ]
        }
    ]
}
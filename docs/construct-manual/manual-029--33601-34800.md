# Manual Construct 3  Parte 29 (líneas 3360134800)

## Resumen
- LINE-OF-SIGHT BEHAVIOR SCRIPT (línea 8)
- INTERFACE (línea 9)
- The ILOSBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to the (línea 12)
- Line-of-sight behavior. (línea 13)
- An additional ILOSBehaviorRay interface is returned by the castRay() method. (línea 14)
- Examples (línea 16)
- See the Scripting raycasting example for a demonstration of using the castRay() method to (línea 17)
- perform raycasting. (línea 18)
- Line-of-sight behavior APIs (línea 20)
- range (línea 21)
- Set or get the maximum distance in pixels that line-of-sight can reach. If an object is further (línea 23)
- away than this distance, the object will never have line-of-sight to it, even if the intervening (línea 24)
- space is clear. (línea 25)
- coneOfView (línea 26)
- Set or get the angle in radians of the cone of view in which the object can have line-of-sight (línea 28)
- to other objects, relative to the current angle of the object. (línea 29)
- addObstacle(iObjectClass) (línea 30)
- If the Obstacles property is Custom, adds the given IObjectClass as another kind of object to (línea 32)
- count as an obstruction to line-of-sight. (línea 33)
- Note that while this is a method for the instance, it affects the entire behavior. (línea 34)

## Contenido


LINE-OF-SIGHT BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/line-of-sight

The ILOSBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to the
Line-of-sight behavior.
An additional ILOSBehaviorRay interface is returned by the castRay() method.

Examples
See the Scripting raycasting example for a demonstration of using the castRay() method to
perform raycasting.

Line-of-sight behavior APIs
range

Set or get the maximum distance in pixels that line-of-sight can reach. If an object is further
away than this distance, the object will never have line-of-sight to it, even if the intervening
space is clear.
coneOfView

Set or get the angle in radians of the cone of view in which the object can have line-of-sight
to other objects, relative to the current angle of the object.
addObstacle(iObjectClass)

If the Obstacles property is Custom, adds the given IObjectClass as another kind of object to
count as an obstruction to line-of-sight.
Note that while this is a method for the instance, it affects the entire behavior.

clearObstacles(iObjectClass)

If the Obstacles property is Custom, clears all obstacles added with the addObstacle()
method.
Note that while this is a method for the instance, it affects the entire behavior.

Page 947 of 1146

Construct 3 Official Manual

hasLOStoPosition(x, y)

Returns a boolean indicating if the object currently has line-of-sight to a position in layout coordinates, respecting the range and cone of view.
hasLOSBetweenPositions(fromX, fromY, fromAngle, toX, toY)

Returns a boolean indicating if there is line-of-sight between any two positions in the layout,
instead of using the object's own position. This respects the range and cone of view, based
on fromAngle, which is in radians.
castRay(fromX, fromY, toX, toY, useCollisionCells = true)

Check for obstacle intersection between any two positions in the layout, returning a
ILOSBehaviorRay interface representing the result. Check the didCollide property of the
returned interface to identify if an intersection was found. The other properties of the
interface indicate the hit position, normal and reflection angle, if an intersection was found.
For more information see the documentation of the ILOSBehaviorRay interface below. The
useCollisionCells parameter specifies whether to use the collision cells optimisation when
testing line of sight. Usually this is faster, but in some cases over extremely long distances it
can be slower.
This method ignores the range and cone of view, to allow raycasting anywhere in the
layout.

ray

Returns the ILOSBehaviorRay interface representing the result of the last castRay method
call.

ILOSBehaviorRay interface
This interface is used to represent the result of a call to castRay() . All its properties are readonly.
didCollide

Read-only boolean indicating whether an intersection was found.
The rest of the properties on this interface are only set if didCollide is true .

hitX
hitY
getHitPosition()

Page 948 of 1146

Construct 3 Official Manual
g

()

If didCollide is true, the read-only position of the first obstacle the ray intersected, in layout
co-ordinates. The method returns both values at the same time.
hitDistance

If didCollide is true, the read-only distance between the ray start point and the hit position.
hitUid

If didCollide is true, the read-only UID of the instance that was the first obstacle the ray
intersected.
getNormalX(length)
getNormalY(length)
getNormal(length)

If didCollide is true, returns a position at a given distance along the surface normal vector.
The getNormal() variant returns both values at the same time.

normalAngle

If didCollide is true, the read-only angle of the surface normal at the point of intersection, in
radians.
getReflectionX(length)
getReflectionY(length)
getReflection(length)

If didCollide is true, returns a position at a given distance along the reflection vector. The
getReflection() variant returns both values at the same time.

reflectionAngle

If didCollide is true, the read-only angle of the reflection at the point of intersection, in
radians.

Page 949 of 1146

Construct 3 Official Manual

MOVE TO BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/move

The IMoveToBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Move To behavior.

Example
Below is a sample code snippet demonstrating moving inst (assumed to be an instance with
the Move To behavior) to a position and logging to the console when it arrives.
// Handle "arrived" event which logs to console when
// movement has finished
inst.behaviors.MoveTo.addEventListener("arrived", e =>
{
console.log("Arrived!");
});
// Start the Move To behavior moving to (100, 100)
inst.behaviors.MoveTo.moveToPosition(100, 100);

Move To behavior events
See behavior instance event for standard behavior instance event object properties.
"arrived"

Fired when the object arrives at its destination.
"hitsolid"

If Stop on solids is enabled, fired when the object hits a solid and stops.

Move To behavior APIs
moveToPosition(x, y, isDirect = true)

Start moving the object to a target position in layout co-ordinates. If isDirect is true, any
existing waypoints will be cleared so the object moves directly to this position; otherwise it
will add a waypoint to the queue.
Page 950 of 1146

Construct 3 Official Manual

getTargetX()
getTargetY()
getTargetPosition()

Return the current target position in layout co-ordinates that the object is moving to. The
getTargetPosition() variant returns [x, y] .

getWaypointCount()

Return the number of waypoints that have been added.
getWaypointX(index)
getWaypointY(index)
getWaypoint(index)

Return the position in layout co-ordinates of a waypoint at a given zero-based index. The
getWaypoint() variant returns [x, y] .

stop()

Stop any current movement, and clear all waypoints.
isMoving

Read-only boolean indicating whether the object is currently moving.
speed

Set or get the current movement speed in pixels per second.
maxSpeed

Set or get the maximum movement speed in pixels per second.
acceleration
deceleration

Set or get the acceleration and deceleration of the movement in pixels per second per
second.
angleOfMotion

Set or get the current angle the object is moving at, in radians.
rotateSpeed

Page 951 of 1146

Construct 3 Official Manual

Set or get the rate the object can turn at, in radians per second.
isStopOnSolids

Set or get a boolean indicating whether the Stop on solids property is enabled. When enabled
the object will stop its movement, clear all waypoints and fire the "hitsolid" event if it
touches an object with the Solid behavior during movement.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 952 of 1146

Construct 3 Official Manual

ORBIT BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/orbit

The IOrbitBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Orbit behavior.

Orbit behavior APIs
setTargetPosition(x, y)

Set the position in the layout that the movement will orbit around.
getTargetPosition()

Return the current target position in the layout as a two-element array in the form [x, y] .

pin(iWorldInst)

Pass an IWorldInstance to set the behavior to always orbit around that object's position.
speed

Set or get the current rotation speed in radians per second.
acceleration

Set or get the current rotation acceleration in radians per second per second.
rotation

Set or get the current orbit position by its angle relative to the target position in radians.
offsetAngle

For elliptical orbits, set or get the rotation of the ellipse in radians. For circular orbits, this
does not affect the orbit path (since rotating a circle has no effect), but it changes the initial
angle the orbit starts from.
primaryRadius
secondaryRadius

Page 953 of 1146

Construct 3 Official Manual

Set or get the distance of the orbit from its target position. The primary radius is in the
direction of the offset angle, and the secondary radius is perpendicular to the offset angle.
For a circular orbit set both values to the same radius; for an elliptical orbit set them to
different values.
isMatchRotation

Set or get a boolean indicating if the behavior will also alter the object's angle to match the
direction of travel.
totalRotation
totalAbsoluteRotation

Set or get the total accumulated rotation in radians. These values do not wrap upon
completing a full rotation. The totalRotation value will decrease for counter-clockwise
rotation, whereas totalAbsoluteRotation increases regardless of the direction of rotation.

getDistanceToTarget()

Return the distance from the object to the target position.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 954 of 1146

Construct 3 Official Manual

PATHFINDING BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/pathfinding

The IPathfindingBehaviorInstance interface derives from IBehaviorInstance to add APIs
specific to the Pathfinding behavior.
An additional IPathfindingMap interface is also used to represent the pathfinding map, i.e. grid
of obstacles, which is shared between all Pathfinding behavior instances using the same cell
size and cell border settings.

Examples
See the Scripting pathfinding example for a demonstration of using these APIs to find and
display a path around obstacles.

Pathfinding behavior events
See behavior instance event for standard behavior instance event object properties.
"arrived"

Fired when a moving object comes to a stop at its destination.

Pathfinding behavior APIs
map

The IPathfindingMap interface representing this behavior instance's pathfinding map, such
as where obstacles are. See the documentation on IPathfindingMap below.

async findPath(x, y)

Starts calculating a path to the given position in layout co-ordinates, and returns a promise
that resolves when the path has been calculated. The promise resolves with a boolean
indicating whether a path was found.
async calculatePath(fromX, fromY, toX, toY)

Calculates a path between any two positions, and returns a promise that resolves when the
path has been calculated. The promise resolves with a boolean indicating whether a path
was found. This can be used for pure pathfinding calculations without taking in to account
Page 955 of 1146

Construct 3 Official Manual

the state of the instance: findPath() is designed for use with the instance movement and
so will only allow one path starting at the object position to be calculated at a time, but
calculatePath allows any number of paths to be calculated for any positions at any time.
Note that when the promise resolves the path nodes should be read immediately, as the
path will be overwritten when a subsequent call to findPath() or calculatePath()
resolves.

startMoving()

Automatically start moving the object along the found path. This can only be used after a
path has been successfully found.
stop()

If the object is moving along its path, causes it to stop.
maxSpeed

Set or get the maximum speed in pixels per second the object can move at, for use with
startMoving().
speed

Set or get the current speed of the object if it is currently moving along its path, in pixels per
second. This cannot be negative or greater than maxSpeed.
acceleration
deceleration

Set or get the acceleration and deceleration rates in pixels per second per second, for use
with startMoving().
rotateSpeed

Set or get the rate at which the object can rotate in radians per second, for use with
startMoving(). Note this can affect the speed of the object: if the rotation speed is low, the
object will have to slow down on tight corners.
isCalculatingPath

A read-only boolean indicating if a path is being calculated, e.g. via findPath().
isMoving

Page 956 of 1146

Construct 3 Official Manual

A readonly boolean indicating if the object is currently moving along its path after calling
startMoving(). It is set back to false after the object arrives at its destination.
currentNode

A read-only number indicating the zero-based index of the node the object is currently
moving towards, while isMoving is true. This may skip ahead just before the object actually
reaches the next node, in order to help it round corners.
getNodeCount()

Returns the number of nodes in the path that was found, after a path has been successfully
found.
getNodeXAt(i)
getNodeYAt(i)
getNodeAt(i)

Return the position of a node in the path that was found, in layout co-ordinates, using the
zero-based index of the node. This is only available after a path has been successfully found.
The getNodeAt() variant returns [x, y] .

*nodes()

Iterates all nodes in the path that was found. This returns the same information as
getNodeAt() but as a generator, yielding values of the form [x, y] .

directMovementMode

Set or get a string of one of "none" , "to-destination" or "anywhere-along-path"
reflecting the direct movement mode. For more information about the effect of each mode,
see the Direct movement property in the Pathfinding behavior manual entry.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

IPathfindingMap interface
This interface is accessed via the map property of the Pathfinding behavior script interface,
providing access to details such as the grid of obstacles.
cellSize
cellBorder

Page 957 of 1146

Construct 3 Official Manual

Read-only numbers with the corresponding Pathfinding behavior properties for this map.
widthInCells
heightInCells

Read-only numbers with the current size of the pathfinding map in cells.
isCellObstacle(x, y)

Returns a boolean indicating if a cell in the obstacle grid is marked as an obstacle. This is
useful for debugging or displaying the obstacle grid. Note the position is taken in cell coordinates rather than layout co-ordinates.
isDiagonalsEnabled

Set or get a boolean indicating whether paths moving along diagonals are allowed. If
disabled, the result nodes along paths will only ever change at 90-degree angles (up, right,
down and left). If enabled nodes can move along diagonals as well.
moveCost

Set or get an integer of the base path cost for moving a single cell. This affects the relative
cost of additional costs added by other features. The default is 10. The move cost is rounded
to an integer, and it is multiplied by the square root of 2 for the diagonal move cost if
diagonals are enabled.
async regenerateMap()

Determine whether each cell in the obstacles grid is an obstacle again. This is a very CPU
intensive action and should not be used regularly. If only part of the obstacle map has
changed, prefer to use regenerateRegion() or regenerateObjectRegion(). Returns a promise
indicating when the regeneration has finished. Note finding paths before the promise has
resolved will not use the updated map.
async regenerateRegion(startX, startY, endX, endY)
async regenerateObjectRegion(objectClass)

As with regenerateMap(), but only the specified area is updated. This is usually considerably
faster than regenerating the entire map. However as with regenerating the entire obstacle
map, changes only take effect after the returned promise resolves. regenerateRegion() takes
a rectangle in layout co-ordinates to regenerate. regenerateObjectRegion() similarly
regenerates the rectangle in the layout given by the bounding boxes of the instances of an
IObjectClass. Note this can cover multiple rectangles if there are multiple instances.
startPathGroup(baseCost = 1, cellSpread = 1, maxWorkers = 1)

Page 958 of 1146

Construct 3 Official Manual

endPathGroup()

Start and end a path group, which can be used to spread out the paths found inside the
group. For more information refer to the corresponding Start path group and End path group
actions in the Pathfinding behavior manual entry.

Page 959 of 1146

Construct 3 Official Manual

PHYSICS BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/physics

The IPhysicsBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Physics behavior.
The Physics behavior also provides a IPhysicsBehavior interface deriving from IBehavior, which
specifies the global settings affecting the entire Physics world. This interface can be accessed
through the behavior property of a Physics behavior instance.

Examples
See the Physics scripting example for a demonstration of using physics from JavaScript code.

IPhysicsBehavior APIs
The behavior script interface specifies the properties of the physics world. It is typically
accessed through the behavior property. Below shows an example of this to change the
physics world gravity.
const behaviorInst = spriteInst.behaviors.Physics;
const behavior = behaviorInst.behavior;
behavior.worldGravity = 0;

worldGravity

Set or get the force of gravity affecting all Physics objects. By default this is a force of 10
downwards.
steppingMode

Set or get a string of either "fixed" or "variable" indicating the Physics time stepping
mode. Variable mode uses delta-time for framerate independent simulation, but may be nondeterministic due to variance in timer measurements. Fixed mode uses exactly the same
time step every frame regardless of the framerate. This is not recommended since modern
devices have a range of refresh rates, and it can cause physics to run too fast or too slow
depending on the device. However it also makes the physics simulation deterministic
(reproducing identical results every time). For more information see the tutorial Delta-time
and framerate independence.

Page 960 of 1146

Construct 3 Official Manual

velocityIterations
positionIterations

Set or get the number of velocity iterations and position iterations used in the physics
engine. The default is 8 and 3 respectively. Lower values run faster but are less accurate, and
higher values can reduce performance but provide a more realistic simulation.
setCollisionsEnabled(iObjectClassA, iObjectClassB, state)

Set whether collisions are enabled between object types using the Physics behavior. The
object types are specified by IObjectClass, and state is a boolean indicating whether
collisions between these types are enabled. Note this affects all instances of the given object
types.

IPhysicsBehaviorInstance APIs
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object, and the corresponding physics body will be destroyed.
applyForce(fx, fy, imgPt = 0)
applyForceTowardPosition(f, px, py, imgPt = 0)
applyForceAtAngle(f, a, imgPt = 0)

Apply a force on the object, either with custom X and Y components, towards a position (in
layout co-ordinates), or at an angle (in radians). The latter two are just convenience methods
that internally calculate the X and Y components. Applying a force causes the object to
accelerate in the direction of the force.
Forces can be applied at an image point with the imgPt parameter, which normally also
causes the object to rotate. Using 0 (the default) for the image point uses the object's
center of mass, which does not cause rotation. Use -1 to use the object's origin, which may
be different to the center of mass and cause rotation. A string of the image point name can
also be used.
applyImpulse(ix, iy, imgPt = 0)
applyImpulseTowardPosition(i, px, py, imgPt = 0)
applyImpulseAtAngle(i, a, imgPt = 0)

Apply an impulse on the object, either with custom X and Y components, towards a position
(in layout co-ordinates), or at an angle (in radians). The latter two are just convenience
methods that internally calculate the X and Y components. Applying an impulse simulates
the object being struck, e.g. hit by a bat.
Impulses can be applied at an image point with the imgPt parameter, which normally also
causes the object to rotate. Using 0 (the default) for the image point uses the object's
Page 961 of 1146

Construct 3 Official Manual

center of mass, which does not cause rotation. Use -1 to use the object's origin, which may
be different to the center of mass and cause rotation.
applyTorque(m)
applyTorqueToAngle(m, a)
applyTorqueToPosition(m, px, py)

Apply a torque (rotational acceleration) to the object, either directly, or towards an angle or
position. The torque and angle are specified in radians.
setVelocity(vx, vy)

Set the object's current velocity, providing a speed in pixels per second for the X and Y axes.
getVelocityX()
getVelocityY()
getVelocity()

Get the X or Y components of the object's current velocity, in pixels per second.
getVelocity() returns both as [x, y] .

teleport(x, y)

Set the object position preserving the Physics velocity. Normally changing the position of the
object will reposition it, but alter the velocity to try to ensure the physics simulation remains
realistic even though some external change was made to the object position. Using the
teleport() method will reposition the object but not alter its Physics velocity in any way,
which is sometimes desirable for purposes such as if a Physics object goes through a portal
and is meant to appear somewhere else but with the same velocity.
angularVelocity

Set or get the angular velocity, in radians per second.
isImmovable
isPreventRotation
density
friction
elasticity
linearDamping
angularDamping
isBullet

Page 962 of 1146

Construct 3 Official Manual

These are setters and getters for the various properties of the Physics behavior. For more
details, refer to the section Physics properties in the Physics behavior manual entry.
mass

Read-only number representing the mass of the physics object, as calculated by the physics
engine. This is the area of the object's collision mask multiplied by its density.
getCenterOfMassX()
getCenterOfMassY()
getCenterOfMass()

Get the X and Y position of the center of mass of the physics object, as calculated by the
physics engine. This depends on the collision mask property, and is not necessarily in the
middle of the object. getCenterOfMass() returns both components as [x, y] .

isAwake

Set or get a boolean indicating whether the Physics object is awake or asleep. Physics
simulations are relatively CPU intensive, requiring a lot of calculations. To save processor
time, the Physics engine will make objects that have come to a complete stop go in to "sleep"
mode so they no longer require processing. However sometimes changes like repositioning
an adjacent object will leave the object in "sleep" mode so it will not respond properly. In this
situation setting isAwake to true can be used to force a sleeping object to resume
simulation. (It can also be used to force an object to go in to "sleep" mode, but note this is
normally done automatically when possible.)
isSleeping

Deprecated Returns true when isAwake is false. Only provided for backwards compatibility;
use isAwake instead.

createDistanceJoint(imgPt, iOtherInst, otherImgPt, damping, freq)

Fix two physics objects at a given distance apart, as if connected by a pole. The other
instance must be an IWorldInstance which also uses the Physics behavior. An image point
can be specified for each with imgPt to connect to a specific part of the object. Note that
an image point of 0 specifies the center of gravity of the object - if you intend to connect to
the object origin, use -1 . damping is the joint damping ratio from 0 to 1, and freq is the
mass-spring-damper frequency in Hertz.
createRevoluteJoint(imgPt, iOtherInst)
createLimitedRevoluteJoint(imgPt, iOtherInst, lower, upper)

Page 963 of 1146

Construct 3 Official Manual

Hinge two physics objects together, so they can rotate freely as if connected by a pin.
Limited revolute joints only allow rotation through a certain range of angles (given in
radians), like the clapper of a bell. The other instance must be an IWorldInstance which also
uses the Physics behavior. An image point can also be specified to connect to a specific part
of the object. Note that an image point of 0 specifies the center of gravity of the object - if
you intend to connect to the object origin, use -1 .

createPrismaticJoint(imgPt,
iOtherInst,
axisAngle,
enableLimit, lowerTranslation,
upperTranslation, enableMotor,
motorSpeed,
maxMotorForce)

Restrict the movement of two physics objects along a specific axis, given by axisAngle in
radians. An image point can also be specified to connect to a specific part of the object.
Note that an image point of 0 specifies the center of gravity of the object - if you intend to
connect to the object origin, use -1 . The other instance must be an IWorldInstance which
also uses the Physics behavior. enableLimit is a boolean specifying whether there is a
lower and upper movement limit; if enabled these are given by the lower and upper
translation (in pixels), otherwise unlimited movement is allowed along the axis. A motor can
also be enabled by enableMotor to provide a continuous force along the axis with
motorSpeed in radians per second, and maxMotorForce the maximum torque.

removeAllJoints()

Remove all joints from the object. Any objects this object was attached to via joints is also
affected. Note some joints automatically disable collisions between the objects, so you may
want to manually disable collisions again after removing joints otherwise overlapping objects
will "teleport" apart (as the physics engine will try to prevent them overlapping).
getContactCount()

Return the number of locations the physics engine has identified this object as touching
other physics objects.
getContactX(index)
getContactY(index)
getContact(index)

Return the position of a contact with another physics object, in layout co-ordinates, given by
the zero-based index of the contact. The getContact variant returns [x, y] .

Page 964 of 1146

Construct 3 Official Manual

PLATFORM BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/platform

The IPlatformBehaviorInstance interface derives from IBehaviorInstance to add APIs specific
to the Platform behavior.

Platform behavior APIs
fallThrough()

If the player is currently standing on a jump-thru platform, this method will make them fall
through it.
resetDoubleJump(allow)

Change whether a double-jump is allowed during the current jump. If false passed, a
double-jump will no longer be allowed in the current jump, even if it is the first jump. If true
passed a double-jump will be allowed again, even if a double-jump was already made in the
current jump.
simulateControl(control)

Simulate one of the movement controls being held down. Useful when isDefaultControls is
disabled. The control is provided as a string and must be one of "left" , "right" , "jump" .

speed

Get the current speed in pixels per second (read-only).
maxSpeed

Set or get the maximum speed in pixels per second.
acceleration
deceleration

Set or get the acceleration/deceleration of the movement in pixels per second per second.
vectorX
vectorY

Page 965 of 1146

Construct 3 Official Manual

setVector(vectorX, vectorY)
getVector()

Set or get the X and Y components of the movement in pixels per second. The methods
allow setting or getting both values at the same time.
jumpStrength

Set or get the initial vertical speed of a jump in pixels per second when the jump key is
pressed.
maxFallSpeed

Set or get the maximum speed in pixels per second the object can accelerate to when in
free-fall.
gravity

Set or get the acceleration caused by gravity, in pixels per second per second, at the angle
given by gravityAngle.
gravityAngle

Set or get the angle that gravity accelerates the object, in radians. By default this points
down.
isDoubleJumpEnabled

A boolean indicating if the player may make one extra mid-air jump before landing on the
ground.
jumpSustain

Set or get the maximum time in seconds that the jump strength is sustained at while the
jump control is being held before the effect of gravity takes over.
isMoving

A read-only boolean indicating if the object is currently moving. This checks if either
vectorX or vectorY are non-zero.

isOnFloor

A read-only boolean indicating if the object is currently standing on a solid or jump-thru.
isByWall(side)

Page 966 of 1146

Construct 3 Official Manual

Test if a solid blocking horizontal movement is immediately to the object's left or right,
returning a boolean indicating if a wall was found. Jump-thrus do not count as walls. Pass
either "left" or "right" as the side.

isJumping

A read-only boolean indicating if the object is currently moving upwards.
isFalling

A read-only boolean indicating if the object is currently in free-fall.
ceilingCollisionMode

A string of either "stop" (the default) or "preserve-momentum" (keep the vertical speed)
indicating how to handle ceiling collisions.
isDefaultControls

A boolean indicating if the default controls (using the arrow keys) are enabled.
isIgnoringInput

A boolean indicating if input is currently being ignored. If input is ignored, pressing any of the
control keys has no effect. However, unlike disabling the behavior, the object can continue to
move.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 967 of 1146

Construct 3 Official Manual

ROTATE BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/rotate

The IRotateBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Rotate behavior.

Rotate behavior APIs
speed

Set or get the rotation speed in radians per second. Positive values rotate clockwise and
negative values rotate counter-clockwise.
acceleration

Set or get the rotation acceleration rate in radians per second per second.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 968 of 1146

Construct 3 Official Manual

SHADOW CASTER BEHAVIOR
SCRIPT INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/shadow-caster

The IShadowCasterBehaviorInstance interface derives from IBehaviorInstance to add APIs
specific to the Shadow Caster behavior.

Shadow Caster behavior APIs
height

Set or get the simulated height of the object, which adjusts the length of shadow it casts.
tag

Set or get a string with a tag for this shadow caster. This is used to match the object with
different Shadow Light objects, depending on their properties.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 969 of 1146

Construct 3 Official Manual

SINE BEHAVIOR SCRIPT INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/sine

The ISineBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to the
Sine behavior.

Sine behavior APIs
movement

Set or get the movement type of the behavior as a string, which must be one of
"horizontal" , "vertical" , "forwards-backwards" , "size" , "width" , "height" ,
"angle" , "opacity" , "z-elevation" and "value-only" . For a full description of each,
refer to the Sine behavior manual entry.
wave

Set or get the wave function used to calculate the movement as a string, which must be one
of "sine" , "triangle" , "sawtooth" , "reverse-sawtooth" and "square" . For a
visualisation see this Wikipedia diagram.
period

Set or get the duration, in seconds, of one complete back-and-forth cycle.
magnitude

Set or get the maximum change in the object's position, size or angle. This is in pixels for
position or size modes, or radians for the angle mode.
phase

Set or get the progress through one cycle of the chosen wave, from 0 (the beginning of the
cycle) to 2π (the end of the cycle). For example setting the cycle position to Math.PI will put
it half way through the repeating motion.
value

A read-only number returning the current value of the offset applied by the sine behavior.
This is intended to be used when the movement property is "value-only" .

updateInitialState()

Page 970 of 1146

Construct 3 Official Manual

The Sine behavior records the object's initial state upon its creation, and always oscillates
relative to that, even if it is deactivated and later activated after the object has been modified.
If the object changes and you wish for the Sine behavior to oscillate relative to the new state
instead of its state upon creation, use this method to reset the initial state to the object's
current state.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 971 of 1146

Construct 3 Official Manual

SOLID BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/solid

The ISolidBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Solid behavior.

Solid behavior APIs
tags

Set or get a list of tags for this solid behavior instance as a space-separated string. This
allows for solid collision filtering in combination with the setSolidCollisionFilter()
method of ISpriteInstance.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 972 of 1146

Construct 3 Official Manual

TILE MOVEMENT BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/tile-movement

The ITileMovementBehaviourInstance interface derives from IBehaviorInstance to add APIs
specific to the Tile Movement behavior.

Tile Movement behavior APIs
isIgnoringInput

A boolean indicating if input is currently being ignored. If input is ignored, pressing any of the
control keys has no effect. However, unlike disabling the behavior, the object can continue to
move.
isDefaultControls

A boolean indicating if the default controls (using the arrow keys) are enabled.
simulateControl(control)

Simulate one of the movement controls being held down. Useful when isDefaultControls is
disabled. The control is provided as a string and must be one of "left" , "right" , "up" ,
"down" .

isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.
setSpeed(x, y)

Modify the speed property of the behavior. X and Y are numerical values that define the
speed on the respective axes.
getSpeed()

Read the speed property of the behavior. The speed is returned as an array with 2 numerical
elements, representing the speed for the X and Y axes respectively.
setGridPosition(x, y, immediate)

Page 973 of 1146

Construct 3 Official Manual

Modify the target grid position of the behavior. X and Y are numerical values that define the
new target in grid space. Immediate is a boolean flag that indicates if the instance should
immediately move to the target position, or move there as if the user was controlling the
instance.
getGridPosition()

Read the current instance position in grid space. Returns an array of 2 numerical elements,
being the position in the X and Y axes respectively.
modifyGridDimensions(width, height, xOffset, yOffset)

Redefine the dimensions of the grid. The Width and height parameters are numbers that
specify the new size for the grid cells. The xOffset and yOffset parameters a numbers that
specify the grids offset from the world space. If xOffset and yOffset are a multiple of width or
height respectively they will have no effect on the alignment of the grid, but will change the
grid space position of each cell.
isMoving()

Returns a boolean indicating if the instance is currently trying to move to a new target
position
isMovingDirection(direction)

Returns a boolean indicating if the instance is currently trying to move to a new target
position, in the given direction. Useful for deciding which animation to show for your
character. The direction parameter is a string, which must be one of the following "left" ,
"right" , "up" , "down" .

canMoveto(x, y)

Allows you to check if the instance would collide with an object if was moved to the grid cell
specified by the numerical parameters x and y. The parameters being the co-ordinates of the
cell in grid space. This does not check for obstructions between the current position and the
target position.
canMoveDirection(direction, distance)

Allows you to check if the instance would collide with an object if it moved a number of cells
in a given direction. The direction is specified by the parameter direction, which must be a
string of the value "up" , "left" , "right" or "down" . The distance is specified by the
parameter distance, which must be a number indicating the number of cells to travel ( not
the distance in world space ). This will check for any obstructions between the current
position and the target. This is quite useful for character AI.

Page 974 of 1146

Construct 3 Official Manual

getTargetPosition()

Returns the current target position in world space as an array of 2 numerical elements.
These elements being the X and Y positions respectively.
getGridTargetPosition()

Returns the current target position in grid space as an array of 2 numerical elements. These
elements being the X and Y positions respectively.
toGridSpace(x, y)

Convert a given co-ordinate in world space, to grid space. The return value is an array of 2
numerical elements. These elements being the X and Y positions in grid space respectively.
fromGridSpace(x, y)

Convert a given co-ordinate in grid space, to world space. The return value is an array of 2
numerical elements. These elements being the X and Y positions in world space respectively.

Page 975 of 1146

Construct 3 Official Manual

TIMER BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/timer

The ITimerBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Timer behavior.

Example
Below is a sample code snippet demonstrating setting two timers on inst (assumed to be an
instance with the Timer behavior). One is a regular timer and the other is a one-off timer.
Note that many browsers combine identical log messages in the console, so repeat
messages may just increment a number by the message rather than showing it again.
// Handle "timer" event and log to the console that the timer ran.
inst.behaviors.Timer.addEventListener("timer", e =>
{
console.log(`Timer "${e.tag}" ran!`);
});
// Set a regular timer running every 1 second
inst.behaviors.Timer.startTimer(1, "myRegularTimer", "regular");
// Set a one-off timer to run after 2.5 seconds
inst.behaviors.Timer.startTimer(2.5, "myOneOffTimer", "once");

Timer behavior events
See behavior instance event for standard behavior instance event object properties.
"timer"

Fired when a timer period has elapsed. The event object has a tag property which is a
string of the tag for the timer that has elapsed.

Timer behavior APIs
startTimer(duration, tag, type = "once")

Page 976 of 1146

Construct 3 Official Manual

Set a new timer, or if a timer with the same tag exists, re-start it with new options.
duration is the time in seconds until the "timer" event fires. If type is "once" , then the
timer event will fire once and not again until startTimer is called again. If type is set to
"regular" , then the timer event will keep firing every duration seconds. The tag is a
string that allows identifying different timers.
setTimerPaused(tag, isPaused)

Set a currently running timer either paused or resumed. When a timer is paused, it will stop
firing timer events. When resumed, it will continue firing timer events, resuming from the
time that it was paused at. In other words if a timer is set for 1 second, it is paused after 0.5
seconds, and then after some time it is resumed again, the next timer event will fire 0.5
seconds after resuming.
setAllTimersPaused(isPaused)

This does the same thing as the setTimerPaused() method, but affecting all existing timers
rather than only one with a given tag.
stopTimer(tag)

Stop a timer with a specific tag. The timer event will no longer fire for the stopped timer after
this call.
stopAllTimers()

Stop all currently running timers regardless of their tags. The timer event will no longer fire
for any timer after this method unless a new timer is started.
isTimerRunning(tag)

Returns a boolean indicating if a timer with the given tag has been started. Once stopped,
the timer no longer counts as running. Paused timers also count as running - use
isTimerPaused() to identify these timers separately.

isTimerPaused(tag)

Returns a boolean indicating if a timer with the given tag has been started and then
subsequently paused with setTimerPaused() .

getCurrentTime(tag)

Returns the time in seconds since the "timer" event last fired, for a timer with a specific
tag.

Page 977 of 1146

Construct 3 Official Manual

getTotalTime(tag)

Returns the time in seconds since a timer with a specific tag was started. This is only useful
with regular timers, since it will always equal getCurrentTime() for one-off timers (after
which they fire and the timer no longer exists, so these expressions return 0).
getDuration(tag)

Returns the duration in seconds for a timer with a specific tag.
getNormalizedProgress(tag)

Returns the current progress for a timer with a specific tag represented as a number
between 0 and 1, regardless of the duration of the timer. For example a normalized progress
of 0.5 means half way through the duration.
hasFinished(tag)

Returns a boolean that is true for the tick that the "timer" event fires in. This is the way the
On timer condition of the Timer behavior checks for finished timers, and this method allows
script callers to make the same check, such as by polling the timer in the "tick" event.

Page 978 of 1146

Construct 3 Official Manual

TURRET BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/turret

The ITurretBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Turret behavior.

Turret behavior events
See behavior instance event for standard behavior instance event object properties.
"targetacquired"

Fired when the turret behavior acquires a target. The targetInst property of the event
object contains a reference to the instance that was acquired as a target.
"shoot"

Fired when the turret behavior has a target acquired in range and that it is aiming at, with a
frequency up to the given rate of fire. The targetInst property of the event object contains
a reference to the instance that is the current target.

Turret behavior APIs
currentTarget

A reference to the instance currently acquired as a target, else null if o target is acquired.
This property can also be assigned in order to ask the behavior to switch to targeting that
specific instance; however this may have no effect if the assigned target is out of range.
range

Set or get the range that the turret can detect targets in. Any targets further away from the
turret than this distance will be ignored.
rateOfFire

Set or get the rate in seconds at which the "shoot" event fires, when the turret has both
acquired a target and rotated to point in the direction of the target.
isRotateEnabled

Page 979 of 1146

Construct 3 Official Manual

A boolean indicating whether the behavior will control the angle of the object.
rotateSpeed

Set or get the speed at which the turret can rotate towards targets, in radians per second.
targetMode

A string of either "first" or "nearest" indicating the targeting mode. "first" will always
track the same target until it is destroyed or leaves range; "nearest" may switch to a
different target if a new target comes closer than the current target.
isPredictiveAimEnabled
projectileSpeed

A boolean indicating whether predictive aim is enabled. If it is enabled, the projectile speed
must also be specified in pixels per second. For more information see the section on
predictive aim in the Turret behavior manual entry.
isEnabled

A boolean indicating if the behavior is enabled. If disabled, the behavior no longer has any
effect on the object.

Page 980 of 1146

Construct 3 Official Manual

TWEEN BEHAVIOR SCRIPT
INTERFACE
View online: https://www.construct.net/en/make-games/manuals/construct-3/scripting/scriptingreference/behavior-interfaces/tween

The ITweenBehaviorInstance interface derives from IBehaviorInstance to add APIs specific to
the Tween behavior.
An actively running tween is represented by ITweenState, which also derives from
ITimelineState. These interfaces can be used to control playback, including identifying when
tweens end via the finished promise.

Examples
See the Scripting tweens example for a demonstration of using tweens from JavaScript code.

Basic tween usage
A code sample is shown below of starting a tween and waiting for it to finish.
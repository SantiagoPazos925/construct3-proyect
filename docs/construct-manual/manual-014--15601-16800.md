# Manual Construct 3  Parte 14 (líneas 1560116800)

## Resumen
- Tags (línea 9)
- Has Tags (línea 10)
- Pass in a string of space separated tags to check if an instance has all of them or not. (línea 12)
- Z Order (línea 14)
- Compare Z elevation (línea 15)
- Pick instances according to their elevation on the Z axis. (línea 21)
- Is on layer (línea 22)
- Pick all instances on a given layer, specified either by its name or zero-based index. (línea 24)
- Pick top/bottom (línea 25)
- Pick either the top-most or bottom-most instance, taking in to account layers and Z index. (línea 27)
- For example, the instance at the front of the top most layer is the top instance. (línea 28)
- COMMON ACTIONS (línea 34)
- The following actions are common to several plugins. (línea 37)
- Angle (línea 39)
- Note angles in Construct start with 0 degrees facing right and increment clockwise. (línea 40)
- Rotate clockwise (línea 41)
- Rotate the object a number of degrees clockwise. (línea 43)
- Rotate counter-clockwise (línea 44)
- Rotate the object a number of degrees counter-clockwise. (línea 46)
- Rotate toward angle (línea 47)

## Contenido

True if the entire object's bounding box is outside the layout area.

Tags
Has Tags

Pass in a string of space separated tags to check if an instance has all of them or not.

Z Order
Compare Z elevation

Page 481 of 1146

Construct 3 Official Manual

Pick instances according to their elevation on the Z axis.
Is on layer

Pick all instances on a given layer, specified either by its name or zero-based index.
Pick top/bottom

Pick either the top-most or bottom-most instance, taking in to account layers and Z index.
For example, the instance at the front of the top most layer is the top instance.

Page 482 of 1146

Construct 3 Official Manual

COMMON ACTIONS
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/commonfeatures/common-actions

The following actions are common to several plugins.

Angle
Note angles in Construct start with 0 degrees facing right and increment clockwise.
Rotate clockwise

Rotate the object a number of degrees clockwise.
Rotate counter-clockwise

Rotate the object a number of degrees counter-clockwise.
Rotate toward angle

Rotate the object a number of degrees toward another angle. If the object is close to the
target angle it will not overshoot (it will end up exactly at the target angle).
Rotate toward position

Rotate the object a number of degrees toward a position. If the object is close to facing the
target angle it will not overshoot (it will end up exactly at the target angle).
Set angle

Set the object's angle in degrees, from 0 to 360. 0 degrees is facing right and angles
increment clockwise.
Set angle toward position

Set the object's angle to face a position in the layout.

Appearance
Not all objects support the actions relating to effects. For more information see Effects.
Set blend mode

Page 483 of 1146

Construct 3 Official Manual

Change the way the object blends with the background by altering the object's Blend mode
property.
Set color

Change the Color property of the object, which applies a tint. Use the rgbEx(r, g, b)
expression to set the color. To restore the original color of the object set a white color (i.e.
rgbEx(100, 100, 100) ).

Set effect enabled

Enable or disable one of the effects added to the object.
Set effect parameter

Change the value of one of the parameters for an effect added to the object. The parameter
to change is specified by its zero-based index, i.e. 0 to change the first parameter, 1 to
change the second parameter, and so on.
Set opacity

Set the object's opacity (or 'semitransparency'), from 0 (transparent) to 100 (opaque).
Set visible

Set the object visible or invisible (hidden). The Toggle option sets the opposite state, i.e.
visible if the object is invisible and vice versa.

Hierarchy
These actions are available for plugins that support the scene graph feature, allowing objects to
be connected together so they move, rotate and scale as if they were one large object.
Add child

Add another object as a child of this object, which becomes its parent. The relative
differences between the objects are remembered at the time the action is used. Then as the
parent moves, scales and rotates, the child will move, scale and rotate with it. A series of
checkboxes allows selection of which properties are to be updated. For example ticking only
the X and Y options will keep the child at the same relative position, but not change its angle.
The Destroy with parent option can also be enabled to automatically destroy the child if its
parent is destroyed.
Remove child

Page 484 of 1146

Construct 3 Official Manual

Remove a child from this object, disconnecting it from the parent and no longer updating it
as the parent changes. The child still keeps its own children, if it has any.
Remove from parent

Remove this object from its parent if it has any, disconnecting it and no longer updating it as
the parent changes. The object still keeps its own children, if it has any.

HTML element
These actions are available for some plugins in the Form controls category, like Button and Text
Input. These objects are HTML elements placed on top of the canvas.
Set attribute
Remove attribute

Add/set or remove an attribute on the HTML element for the form control. Attributes are part
of the HTML standard and are documented on the Mozilla Developer Network.
Some attributes only need to exist to take effect and don't use a value. In this case, leave
the value as an empty string.

Set CSS style

Set a CSS (Cascading Style Sheets) style on the HTML element for the form control. CSS is
part of the HTML standard and is documented on the Mozilla Developer Network.
Note that if the object has the Auto font size property enabled, any changes to the fontsize property will be overridden.

Set enabled

Enable or disable the control. When disabled, the control can no longer be interacted with. It
also usually adjusts the appearance to indicate it is disabled, e.g. by greying out the control.
Set focused
Set unfocused

Focus or unfocus (also known as "blurring") the control. When focused, the control will
receive keyboard input exclusively, and usually has an adjusted appearance to indicate active
focus. When unfocused, the control will not respond unless directly clicked or touched, and
the project will receive keyboard input instead.

Page 485 of 1146

Construct 3 Official Manual

Set visible

Set whether the HTML element is visible or hidden. The visibility can also be toggled, to
switch the visibility state to the opposite (e.g. hide if showing, or show if hidden).

Instance variables
Add to
Subtract from

Modify a number instance variable.
Set

Set a number or text instance variable.
Set boolean

Set a boolean instance variable, which can hold either a true or false value.
Toggle boolean

Toggle a boolean instance variable, which flips it from true to false or vice versa.

Mesh distortion
These actions are available in objects that support the mesh distortion feature. This allows the
object to be split in to a grid of points, and each point moved around individually to deform the
appearance of the object. Moving mesh points also affects the object's collisions accordingly.
See the mesh distortion examples in the Start Page for a demonstration.
Set mesh size

Create a mesh using the given number of points horizontally (in columns) and vertically (in
rows). At least 2 points must be used for both sizes for a mesh to be created. Use 0 for both
to remove any existing mesh. Since the mesh is initialised with points in their default
positions, no visual difference will be observed until a mesh point is altered.
Set mesh point

Alter one of the points on the mesh given by its zero-based column and row number. In
Absolute mode the position and texture locations are set to the given values; in Relative
mode the given values are added to their current values. The position is given as normalized
co-ordinates in the range [0, 1] across the object box, i.e. 0.5 being in the middle. This allows
the mesh to scale proportionately with the object size. Mesh points can be positioned
outside the object box. The texture location is also given in normalized co-ordinates in the
range [0, 1], but cannot go outside that range. Changing the texture location alters where on
Page 486 of 1146

Construct 3 Official Manual

the source image corresponds to that mesh point, allowing for a different type of
deformation. In absolute mode, texture positions of -1 leave the value unchanged. (In relative
mode, use 0 to apply no change to the texture position, since -1 is a valid relative texture
offset.) Optionally a Z elevation can also be specified for the mesh point, to move it in 3D.
This works similarly to Z elevation for the entire object, but only applying to a single mesh
point - see the Set Z elevation action for more details. The Z elevation is always interpreted
as an absolute number regardless of the mode.

Misc
Destroy

Remove the object from the game.
Set from JSON

Set the state of this object from a string of data in JSON format. This must come from a
prior use of the AsJSON expression.
Signal

Trigger On signal for the picked instances with the given tag. Any events paused with a Wait
for signal action with the given tag will also be resumed once all the picked instances it is
waiting on become signalled.
Wait for signal

Wait indefinitely until the Signal action is used with the same tag for all the currently picked
instances. Other events continue to run in the meantime.

Size & Position
Move at angle

Move the object a number of pixels at a given angle in degrees.
Move forward

Move the object a number of pixels forward at the object's current angle.
Set width
Set height
Set size

Set the object's current size in pixels.

Page 487 of 1146

Construct 3 Official Manual

Set X
Set Y
Set position

Set the object's current position in the layout, in pixels. The origin (0,0) is the top-left of the
layout and the Y axis increments downwards.
Set position to another object

Position the object at another object. It can also be positioned relative to an image point on
the given object.

Tags
Change Tags

Pass in an action, either "add" or "remove" and a string of space separated tags to add or
remove from the instance.

Z Order
Move to bottom
Move to top

Position the object either at the bottom or top of its current layer.
Move to layer

Move the object to the top of a given layer, either by its name or zero-based index. If the
object is already on the given layer this action has no effect.
Move to object

Move the object next to another object in the Z order. You can choose to place the object to
be placed in front or behind another object. If the target object is on a different layer, the
object will also be moved to the target object's layer and then Z ordered next to it.
Set Z elevation

Set the object's elevation on the Z axis. By default the camera is at Z = 100, and looking
down to Z = 0. The default Z elevation is 0. Increasing it will move it upwards (towards the
camera) and decreasing it will move it downwards (away from the camera). You can learn
more about Z elevation in the tutorial Using 3D features in Construct.

Page 488 of 1146

Construct 3 Official Manual

COMMON EXPRESSIONS
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/commonfeatures/common-expressions

The following expressions are common to several plugins.

Angle
Angle

The object's current angle, in degrees. 0 degrees is facing right and angles increment
clockwise.

Appearance
ColorValue

A number representing the color property of the instance. This can be used with the Set color
action to set an object's color to match another object.
Opacity

The object's current opacity (semitransparency), from 0 (transparent) to 100 (opaque).

Hierarchy
These expressions are available for plugins that support the scene graph feature, allowing
objects to be connected together so they move, rotate and scale as if they were one large object.
ChildCount

Return the number of children currently attached to this object (with the Add child action) in
the hierarchy. This is 0 if the object has no children.
AllChildCount

Return the number of children currently attached to this object (with the Add child action) in
the hierarchy, including all descendants. This is 0 if the object has no children
ParentUID

The unique ID (UID) of this object's parent in the hierarchy. If this object has no parent, it
returns -1.

Page 489 of 1146

Construct 3 Official Manual

Misc
AsJSON

Save the object state to a string of data in JSON format, and return it. This can be
downloaded or otherwise stored, and later the state of the object restored using the Set from
JSON action.
Count

The number of instances of the object type.
PickedCount

The number of instances meeting the event's conditions. For example, if the event has the
condition "Mouse is over Sprite", Sprite.PickedCount will return the number of Sprite
instances that the mouse is over.
ObjectTypeName

The name of the object type for the given object. For example Sprite.ObjectTypeName will
return "Sprite". When used as a family expression, this returns the name of the actual object
type, never the name of the family itself.
IID

Return the instance's index ID (IID). See instances.
UID

Return the instance's unique ID (UID). See instances.

Size & Position
BBoxLeft
BBoxRight
BBoxTop
BBoxBottom

Return the layout co-ordinates of the object's axis-aligned bounding box. This is the smallest
unrotated box that completely encloses the object, taking in to account any rotation or
stretching.
BBoxMidX
BBoxMidY

Page 490 of 1146

Construct 3 Official Manual

Return the layout co-ordinates of the mid-point of the object's axis-aligned bounding box.
This is not necessarily the same position as the object origin, such as if the origin is not
exactly in the middle.
Width
Height

Return the size of the object in pixels.
ImagePointX(nameOrNumber)
ImagePointY(nameOrNumber)
ImagePointZ(nameOrNumber)

Return the position of one of the object's image points from its currently displaying
animation frame in layout co-ordinates. Either the image point's name or its number can be
passed. Note that when using a number, 0 refers to the origin, so the first image point is
number 1.
X
Y

Return the object's position in the layout, in pixels. The origin (0,0) is at the top-left of the
layout and the Y axis increments downwards.

Tags
Tags

Get all the tags of an instance as a string.
TagsCount

Get the amount of tags an instance has.
TagAt

Get The tag at a specific index.

Time
dt

Return delta-time according to the object's own timescale. See Delta-time and framerate
independence for more information.

Page 491 of 1146

Construct 3 Official Manual

Z Order
LayerName

The name of the layer the instance is currently on.
LayerNumber

The zero-based index of the layer the instance is currently on.
ZElevation

Return the current elevation on the Z axis for the instance relative to its layer. This is not
affected by the layer's Z elevation.
TotalZElevation

Return the instance's Z elevation added to the layer's Z elevation, providing the total Z
elevation the instance appears at.
ZIndex

Get the zero-based index of the Z order of this instance within its current layer. 0 is the
bottom instance, increasing up to the top instance.

Template
TemplateName

The name of the template used to create this instance. Returns an empty string if no
template was used.

Page 492 of 1146

Construct 3 Official Manual

3D CAMERA
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/3d-camera

In Construct the standard view is restricted to 2D and scrolling to an X and Y co-ordinate. The 3D
Camera object can change the viewpoint of the game to anywhere in 3D, such as positioning the
camera to an X, Y and Z co-ordinate, looking towards another X, Y and Z co-ordinate. See the
First-person shooter example for a demonstration of what the 3D Camera object can do.
You can learn more about 3D Camera and how it works with other 3D features in the tutorial
Using 3D in Construct.

Scripting
When using JavaScript or TypeScript coding, the features of this object can be accessed via the
I3DCameraObjectType script interface.

Using a 3D Camera
By default Construct will use the standard 2D view, using the standard scrolling features to pan
the view in 2D. The Look at position, Look parallel to layout and Set position actions enable a 3D
view, which overrides the standard 2D view - the standard scrolling features will no longer have
any effect on the 3D view. The standard 2D view can be restored using the Restore 2D camera
action.
The 3D Camera object will only apply to layers which have their Rendering mode property set to
3D. Layers using a 2D rendering mode will ignore the 3D Camera and remain using a standard
2D view using the standard scrolling features. This is useful for things like a 2D interface
displayed on top of a 3D view.

3D Audio
When moving the camera in 3D, it can be useful to play positioned sounds which will adjust
playback to make them sound like they are coming from a position in 3D space. This can be
done by setting the listener orientation in the Audio object, and playing positioned sounds either
at objects (which will also use their Z elevation as the Z co-ordinate of the sound) or at a position
which allows specifying the X, Y and Z co-ordinates of the sound.

3D Camera properties
The 3D Camera object has two properties: Z scale and Default camera Z. These are related and
are influenced by the Z axis scale project property. The properties are defined as follows.
Z scale

Page 493 of 1146

Construct 3 Official Manual

The number of pixels per unit on the Z axis. With a Regular Z axis scale, this is always 1, as
the Z axis uses the same scale as the other axes.
Default camera Z

The default position of the camera on the Z axis, producing 2D rendering at 100% scale on
the layout. With a Normalized Z axis scale, this is always 100.
The relationship between the properties and the Z axis scale property is as follows:
With the Normalized Z axis scale (the default), the Default camera Z is set to 100. Then the Z
scale tells you how many pixels each unit on the Z axis is equivalent to.
With the Regular Z axis scale, the Z scale is always 1, as the Z axis uses the same scale as
the X and Y axes. The Default camera Z is then adjusted ensure 2D rendering appears at
100% scale. Note the Field of view project property also affects the Default camera Z.
The Normalized Z axis scale is designed for 2D projects using simple 3D features like Z
elevation. If your project uses 3D camera to employ a fully 3D view, it will likely benefit from
using the Regular Z axis scale.

3D Camera conditions
The 3D Camera object has no conditions.

3D Camera actions
Look at position

Set the position and orientation of the 3D Camera using a camera position, a position for the
camera to look towards, and an up vector. The camera and look-at positions are given as 3D
co-ordinates. The up vector is a 3D vector specifying which way is up, as this is also
necessary to determine how to orient the camera towards the look-at position. The default
up vector is (0, 1, 0), i.e. up is the positive direction on the Y axis, suitable for a top-down
view.
Look parallel to layout

Set the position and orientation of the 3D Camera using a camera position and a camera
angle in degrees. Whereas the default view is top-down, this sets a camera position looking
along the layout, such that the layout appears as the floor at the bottom of the screen. This is
a shortcut for using the Look at position action looking towards a 2D angle with an up vector
of (0, 0, 1).
Move along camera axis

Page 494 of 1146

Construct 3 Official Manual

Move the camera position, the look position, or both, a distance along an axis relative to the
current camera orientation. The distance can be negative, for example to move left when the
specified axis is Right.
Note the scale on the Z axis can be different to the X and Y axes.

Move along layout axis

Move the camera position, the look position, or both, a distance along an axis relative to the
layout. The distance can be negative, for example to move left when the specified axis is X.
Note the scale on the Z axis can be different to the X and Y axes.

Restore 2D camera

Restore the camera to its default 2D behavior, using the standard scrolling features to move
the view.
Rotate camera

Moves the camera look-at position according to X and Y rotations in degrees. Note that a 3D
Camera must first have been enabled using the Look at position, Look parallel to layout or Set
position actions, since these also define the starting orientation that this action rotates
around. Typically the rotation values will be provided by the Mouse object's MovementX and
MovementY expressions in an On movement trigger to achieve "mouse look" - see Firstperson platformer for an example of this.
Set field of view

Set the angle of the field of view in degrees. Note this only has an effect when Z Axis scale is
set to Regular in Project Properties. The default field of view is also set in Project Properties.
Set position

Set the camera position or the look position to a 3D co-ordinate. This can be used to control
the camera or look positions independently without having to always specify both, such as to
move the camera while using mouse look to control the look direction.

3D Camera expressions
CameraX
CameraY
CameraZ

Page 495 of 1146

Construct 3 Official Manual

Get the current 3D position of the camera.
LookX
LookY
LookZ

Get the current 3D position of the position the camera is pointing at.
LookVectorX
LookVectorY
LookVectorZ

Get the current vector of the direction the camera is pointing in, including camera rotation
(i.e. changes applied with the Rotate camera action for purposes like mouse look).
ZScale

The number of pixels per unit on the Z axis. See Z scale under 3D Camera properties for more
details.
DefaultCameraZ

The default position of the camera on the Z axis, producing 2D rendering at 100% scale on
the layout. See Z scale under 3D Camera properties for more details.
FieldOfView

The current field of view in degrees. This is only applicable when Z axis scale is set to
Regular.
CanvasToLayerX(layer, x, y, layerZ)
CanvasToLayerY(layer, x, y, layerZ)

Transform a position in canvas co-ordinates to layer co-ordinates on a Z plane given by
layerZ. This is similar to the system expressions of the same name, but working in 3D.
LayerToCanvasX(layer, x, y, z)
LayerToCanvasY(layer, x, y, z)

Transform a position in 3D layer co-ordinates to 2D canvas co-ordinates. This is similar to
the system expressions of the same name, but working in 3D.
LayerToLayerX(fromLayer, toLayer, x, y, z)
LayerToLayerY(fromLayer, toLayer, x, y, z)

Page 496 of 1146

Construct 3 Official Manual

Calculate the 2D position on a second layer (toLayer) that corresponds to a 3D position given
on a first layer (fromLayer). This is similar to the system expressions of the same name, but
working in 3D.
ViewportBottomLeftX(layer)
ViewportBottomLeftY(layer)
ViewportBottomRightX(layer)
ViewportBottomRightY(layer)
ViewportTopLeftX(layer)
ViewportTopLeftY(layer)
ViewportTopRightX(layer)
ViewportTopRightY(layer)

Return the X and Y position in layer co-ordinates of the four corners of the visible viewport,
taking in to account the layer's Z elevation. These expressions are similar to the viewport
system expressions, but when using a 3D camera the viewport area can be an irregular
quadrilateral instead of a simple 2D rectangle, so these expressions provide four separate
positions.
These expressions can return NaN (Not A Number) if a corner of the viewport does not
intersect the layer plane.

CameraXRotation
CameraYRotation

Return the X and Y rotation of the camera in degrees, as set by the Rotate camera action.
ForwardX
ForwardY
ForwardZ

Returns a 3D unit vector pointing in the direction of the camera.
Note this does not include camera rotation. Use the LookVectorX/Y/Z expressions to get
the vector of the direction the camera is pointing in including camera rotation.

RightX
RightY
RightZ

Page 497 of 1146

Construct 3 Official Manual

Returns a 3D unit vector pointing to the right of the camera, perpendicular to the forward
vector.
UpX
UpY
UpZ

Returns a 3D unit vector for the camera up vector, which helps determine the camera
orientation. Note this is recomputed from the given camera and look positions, so may not
be exactly the same as the up vector given in the Look at position action.

Page 498 of 1146

Construct 3 Official Manual

3D SHAPE
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/3d-shape

The 3D shape object can add basic elements of 3D to your project, such as a 3D box. Six images
can be drawn to cover each face of the shape.
Try out the 3D shape tour example for a visual demonstration of what the 3D shape object can
do. The Start Page has a number of other examples under the 3D tag.
You can learn more about 3D shape and how it works with other 3D features in the tutorial Using
3D in Construct.

Scripting
When using JavaScript or TypeScript coding, the features of this object can be accessed via the
I3DShapeInstance script interface.

Size and position on Z axis
Construct's normal 2D editing features cover the X and Y co-ordinates and size. To adjust the
position on the Z axis, change the Z elevation property (which is the same property used to
move other 2D objects like Sprite up and down on the Z axis). To adjust how tall the shape is (i.e.
its depth), change the Z height property of the 3D shape object.

Transparency
Due to the way 3D rendering works, transparency may not work as expected in 3D shape
objects. To correctly render 3D features, Construct must use a depth buffer, but this only fully
supports opaque surfaces. Therefore 3D shape objects will work best with opaque images.
Making individual faces invisible works as expected, as this means the face skips drawing
entirely, rather than drawing content that is assumed to be opaque.
For more information, refer to the section on transparency in the tutorial Using 3D features in
Construct.

3D shape properties
Images

Click the Edit link to edit the six images the object uses for face images, one for each face of
a cube. Not all shapes use all six images. Some images may also be cropped according to
the shape of the face it appears on. For example the Prism shape has triangular end faces,
so the images at these ends are cropped to only show a triangular portion of the image.

Page 499 of 1146

Construct 3 Official Manual

Shape

Select from one of a few pre-defined shapes that the object will use. Not all shapes use all
six images, since some have fewer than six faces. The available shapes are:
Box: a six-sided cube or cuboid shape.
Prism: a five-sided prism shape, like a tent. The front face is not used.
Wedge: a five-sided shape like a cuboid cut in half diagonally, sloping up to the right. The
front face is not used.
Pyramid: a five-sided square-based pyramid, with the peak of the pyramid centered over
the base. The front face is not used.
Corner (out): a five-sided shape similar to a pyramid with the peak aligned to the upperright corner. The front face is not used. The name derives from the fact this shape can
join rows of Wedge shapes at an outside corner.
Corner (in): a six-sided shape similar to a box where the front and back faces join in the
bottom-left. The front face is used, but slopes down in the bottom-left half of the image.
The name derives from the fact this shape can join rows of Wedge shapes at an inside
corner.
Z height

Set the height of the shape on the Z axis, i.e. its depth. Note this must be positive. If you wish
to display the object lower down, change its Z elevation instead.
Initially visibile

Set whether the object is shown (visible) or hidden (invisible) when the layout starts.
Face visibility (Back/Front/Left/Right/Top/Bottom)

Set whether each of the six faces of the shape is initially visible.
The Back face is hidden by default, as normally it cannot be seen and so may as well
skip drawing. If you make another face invisible, you may wish to make the back face
visible again.

Back face culling

Page 500 of 1146

Construct 3 Official Manual

Automatically hides faces of the shape that are pointing away from the camera. This helps
optimize performance if the shape is fully opaque, as those faces will never be seen anyway.
If the shape is semitransparent (e.g. the opacity is less than 100%) then this mode can be
useful to stop the faces pointing away from the camera from still being visible. Whether or
not that is desirable depends on your art style.
Use object image for faces (Back/Front/Left/Right/Top/Bottom)

Optionally choose a Sprite, Tiled Background or 9-Patch object to display instead of the 3D
shape's own face images for a given face of the shape. An instance of the object must be
placed in the same layout for this to work. The properties of this instance can also be used
to control the appearance of the face on the 3D shape. This allows using animated face
images (via Sprite), or varieties of tiled/repeating images for face images (via Tiled
Background and 9-Patch).
Z tiling factor

By default the camera appears at Z=100 and looks down to Z=0, meaning the camera is
normally 100 units above the layout. However when using tiled images for 3D shape faces,
such as Tiled Background or 9-Patch, this can result in unexpected tiling results. For example
a 3D shape that has a Z height of 25 will display a Tiled Background as if it was 25 pixels tall,
which may be too small for the displayed size of the object. The Z tiling factor is a multiple
for the Z height to use when tiling images. For example the default of 8 means a Z height of
25 will actually tile as if it was 200 pixels tall, which usually produces better tiling results.

3D shape conditions
For conditions in common to other objects, see Common conditions.
Compare shape

Compare the current shape that is in use. This can be changed by the Set shape action.
Compare Z height

Compare the current Z height (i.e. depth) of the shape.
Is face visible

Check if one of the six faces of the shape is currently set to visible. Note this only checks
whether the visibility is currently enabled, either in the object's properties or with the Set face
visible action - it does not test whether the face is really showing on-screen.

3D shape actions
For actions common to other objects, see Common actions.

Page 501 of 1146

Construct 3 Official Manual

Set back face culling

Change the Back face culling property. See above for more details.
Set face image

Change one of the shape faces to use one of the other face images. For example this allows
swapping the front face image for the back face image. To restore the original image, use the
same face for both parameters, e.g. set back face to use image of back face.
This also undoes Set face object, restoring the 3D shape's own face image instead of
another object's image.

Set face object

Replace the image used for a face of the shape with the image used by a Sprite, Tiled
Background or 9-Patch object. An instance of the given object must exist on the current
layout. See the property Use object image for faces for more information.
This action can be undone with Set face image.

Set face visible

Enable or disable the visibility of one of the faces of the shape. See the Face visibility
properties for more information.
Set shape

Change the shape currently used by the object. See the Shape property for more information.
Set Z height

Change the Z height, i.e. depth, of the 3D shape. This must be greater or equal to 0. See the Z
height property for more information.
Set Z tiling factor

Change the multiple used for tiling images along the Z height of the object. See the Z tiling
factor property for more information.

3D shape expressions
For expressions common to other objects, see common expressions.
FaceImagePointCount(Face)

Page 502 of 1146

Construct 3 Official Manual

FaceImagePointX(Face, ImagePoint)
FaceImagePointY(Face, ImagePoint)
FaceImagePointZ(Face, ImagePoint)

Retrieve the 3D position of an image point on any of the 3D shape's faces. The face is a zerobased index of the face as shown in the image editor, i.e.:
0: Back
1: Front
2: Left
3: Right
4: Top
5: Bottom
The image point is specified by the name or number of the image point. When using a
number, note that as per other image point expressions, the first image point is number 1, as
0 refers to the origin.
ZHeight
ZTilingFactor

Return the current Z height and Z tiling factor properties. See the documentation on the
corresponding properties above for more information.

Page 503 of 1146

Construct 3 Official Manual

9-PATCH
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/9-patch

The 9-patch plugin allows an image to be resized by stretching or tiling the edges, corners and
fill separately. It is useful for conveniently making resizable windows or user interface elements
that can take any size and still appear correctly. The image below demonstrates how a 9-patch
looks compared to a Sprite object, which just stretches its entire image.

Example of 9-patch scaling

You can also click here to open an example of the 9-patch plugin.
The 9-patch object uses a single image, but automatically cuts it up in to nine sections using
margins set in the object properties. By setting the left, top, right and bottom margins, the object
then automatically works out the size and position of all nine sections.

Sections in a 9-patch

The edge and fill sections can be stretched or tiled independently, allowing for a better
appearance when resized. Take care not to set the margins such that sections overlap or have a
zero size, since this may cause the object to display incorrectly.
For an interactive demo of the 9-patch plugin, see the 9-patch example in the Example Browser.

9-patch properties

Page 504 of 1146

Construct 3 Official Manual

Image

Click the Edit link, or double-click the object in the Layout View, to edit the source image used
for the 9-patch.
Left margin
Right margin
Top margin
Bottom margin

The margins of each side of the 9-patch, in pixels. See the image above for a visualisation of
how these margins are used to determine the nine sections.
Edges

Use Stretch to stretch each edge patch to the size of the object. Use Tile to repeat the edge
patches instead.
Fill

Use Stretch to stretch the fill patch to the size of the object. Use Tile to repeat the fill patch
inside the object instead, like a Tiled Background. Use Transparent if you don't want a fill
image.
Initial visibility

Set whether the object is visible or invisible at the start of the layout.
Origin

Choose the location of the origin of the object relative to its bounding rectangle.
Seams

To ensure seamless rendering under all circumstances, by default the patches internally
overlap by 1 pixel (using the Overlap setting). However for semi-transparent patches this can
cause a visible seam; in this case it is preferable to use the Exact setting instead.

9-patch conditions, actions & expressions
The 9-patch object has no conditions, actions or expressions of its own. See Common Features
for documentation on the conditions, actions and expressions it shares with other plugins.

Page 505 of 1146

Construct 3 Official Manual

ADVANCED RANDOM
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/advancedrandom

The Advanced Random object provides expressions for advanced pseudo-random number
generation (PRNG), including two- and three-dimensional noise functions like Perlin noise
(referred to as "classic noise" in the plugin). These are useful for procedural generation, such as
providing an endless supply of interesting and unique level designs.
It also provides seeded random functions, which provide the same pseudo-random number
sequence when given the same seed. This can also be used to override the system random
function (covering the random() expression, and any randomness used in behaviors) with a
seeded random, which can provide deterministic random number generation for the whole
runtime. By default the seed is always itself random, meaning random number generation is
different between different runs of the game.
Click here to open an example of the Advanced Random plugin. This uses the Drawing Canvas
object to display randomly generated textures using Advanced Random.

Scripting
When using JavaScript or TypeScript coding, the features of this object can be accessed via the
IAdvancedRandomObjectType script interface.

Gradients
The Advanced Random object also provides tools to calculate custom gradients. This is useful
for procedural generation. The random numbers it generates are in the range 0-1, but gradients
allow you to specify values or colors for certain ranges of that. For example making the range 00.5 blue, and the range 0.5-1 green, allows you to look up the color using a random number in the
range 0-1 and get either a water or land color. Combined with expressions like 2D perlin noise,
this provides a way to randomly generate a level with mixed regions of water and land.

Probability tables
Advanced Random can also create probability tables, which are a way of generating weighted
random numbers. For example if you add three items with a weight of 1, and then a fourth item
with a weight of 2, that item is twice as likely to be picked as any other item. The value of a
probability table entry can be either a number or a string, but the weight must be a number. This
is useful for doing things like random pickups with lots of common cheap items, but also some
rare valuable items.

Permutation tables
Page 506 of 1146

Construct 3 Official Manual

Another feature of Advanced Random is creating Permutation tables. These are simply a
sequence of numbers that are randomly ordered. This is useful for retrieving random, nonrepeating numbers. For example you could use the numbers 0-51 to represent a deck of cards,
and create a permutation table to represent a shuffled deck of cards. Then if you read through
the permutation table in order with the Permutation expression, it will return a random sequence
of cards, like dealing from a shuffled deck.

Advanced random properties
Seed

A string of characters used as the seed for random number generation. The same seed will
always provide the same sequence of numbers. An empty string (the default) will use a
random seed, ensuring the sequence of numbers is different every time.
Replace system random

If enabled, the system random function, which covers the random system expression as well
as randomness in behaviors, is overridden to use the Advanced Random object's PRNG.
Since the Advanced Random object can control the seed, this provides a way to seed the
random number generation of the entire runtime.

Advanced random conditions
The Advanced Random object has no conditions.

Advanced random actions
Set octaves

Set the number of octaves used for coherent noise generation, from 1-16. The default is 1.
This affects the Billow, Classic and Ridged expressions only. Using additional octaves adds
layers of increasing detail to the noise functions, but is also slower to process.
Update seed

Set a new seed for random number generation, using a string.
Note if you pass an empty string, it still uses the empty string as the seed. If you want to
go back to using a random seed, pass the RandomSeed expression as the seed to set.

Add gradient stop

Adds a stop to the current gradient. Use after Create gradient to specify the gradient. The
stop position can be any number, but is generally kept within the 0-1 range so it can be used
with the random expressions. The stop value should be an expression of the form rgbEx(r, g,
Page 507 of 1146

Construct 3 Official Manual

b) or rgba(r, g, b, a) when the gradient uses color mode; otherwise it can be a simple number.
The default gradient is a simple black to white gradient, using rgbEx(0, 0, 0) at position 0 and
rgbEx(100, 100, 100) at position 1.
Create gradient

Create a new gradient. Multiple gradients can be managed by giving them different names.
Creating a gradient also sets it as the current gradient, so this action can be immediately
followed by Add gradient stop to specify the gradient. By default gradients work in color
mode, which uses values based on the rgbEx or rgba expressions; however they can also be
set to number mode which uses simple numbers.
Set gradient

Set the current gradient by its name. This allows switching between multiple gradients.
Create permutation table

Generate a randomly ordered sequence of numbers. Length is how many numbers to
generate, and Offset is the first number in the sequence. For example a length of 3 with an
offset of 1 will generate the numbers 1, 2 and 3, and then randomly shuffle them.
Shuffle permutation table

Re-shuffle an existing permutation table.
Add probability entry

Add an entry to the current probability table. The value can be a string or a number. The
weight affects how likely the item is to be picked, relative to other item's weights.
Create probability table

Create a new probability table, using a string to identify it.
Remove probability entry

Remove an existing entry from the current probability table. If a weight of 0 is specified, the
first entry with the given value is removed regardless of its weight. Otherwise an entry is only
removed if it matches both the value and the weight.
Set probability table

Set the current probability table from which weighted random values are taken.
Create probability table from JSON

Page 508 of 1146

Construct 3 Official Manual

Create a new probability table from a JSON string. The input should be an array of [weight:
number, value: number|string] tuples, e.g. [[1, "Apple"], [2, "Banana"], [3, "Carrot"]] .

Advanced random expressions
Billow2d(x, y)
Billow3d(x, y, z)

Generate a random number using billow noise in the range 0-1, using either 2D or 3D coordinates.
Cellular2d(x, y)
Cellular3d(x, y, z)

Generate a random number using cellular noise in the range 0-1, using either 2D or 3D coordinates.
Classic2d(x, y)
Classic3d(x, y, z)

Generate a random number using classic (perlin) noise in the range 0-1, using either 2D or 3D
co-ordinates.
RandomSeed

Generate a random seed string that can be used to set the seed, restoring an unpredictable
number sequence.
Ridged2d(x, y)
Ridged3d(x, y, z)

Generate a random number using ridged noise in the range 0-1, using either 2D or 3D coordinates.
Seed

The currently set seed, as a string.
Voronoi2d(x, y)
Voronoi3d(x, y, z)

Generate a random number using Voronoi noise in the range 0-1, using either 2D or 3D coordinates.

Page 509 of 1146

Construct 3 Official Manual

Gradient(Position)
GradientByName(Name, Position)

Sample a gradient at the given position. This returns a color value for color mode gradients,
otherwise a simple number. The Gradient variant refers to the current gradient, whereas the
GradientByName variant refers to any gradient using a case-insensitive string of its name.
Permutation

Get a value at a zero-based index in the permutation table, from 0 (for the first item) up to
but not including the length of the table.
Weighted
WeightedByName(Name)

Get a random value from a probability table. The relative likelihood of values is affected by
their weight. The Weighted variant refers to the current probability table, whereas the
WeightedByName variant refers to any probability table using a case-insensitive string of its
name.
ProbabilityTableAsJSON

Get the current probability table as a JSON string. This can be read back using the Create
probability table from JSON action.

Page 510 of 1146

Construct 3 Official Manual

AJAX
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/ajax

The AJAX plugin allows you to fetch the content of a URL, or post data to a website. You can
also use it to load project files. Its name derives from "Asynchronous JavaScript and XML", a
technique familiar to most web developers.

Scripting
This object has no script interface, because when using JavaScript or TypeScript coding you can
use the browser built-in Fetch API to make network requests.

How to make a request
The basic usage of the AJAX object consists of:
1

Use the Request action to load a URL.

2

A moment later after the request completes, On completed triggers.

3

The LastData expression can be used to access the content of the response.

The tokenat system expression may be useful to split simple responses. Alternatively, you can
read LastData in other formats by using other plugins, such as the XML object, loading Array
data, and so on.

Tags
A different tag can be provided for each request. This is a simple string you set to tell apart
different requests. For example, on startup you may request both foo.json with tag "foo" and
bar.json with tag "bar". When the first request completes, On "foo" completed triggers; when the
second request completes, On "bar" completed triggers. Requests can complete in a different
order to the order they were made, so without tags it would be impossible to tell which request
was completing.

Making AJAX requests cross-domain or in preview
By default, browsers block AJAX requests across domains. This means, for example, a game on
construct.net can request other pages on construct.net, but cannot request pages on
facebook.com. This is an important security feature of web browsers (it is not specific to
Construct or its AJAX object).
Also, when previewing in Construct the game runs on its own domain at preview.construct.net.
Therefore AJAX requests to any other domain will typically fail during preview, unless the server
explicitly allows cross-domain requests.
Page 511 of 1146

Construct 3 Official Manual

If you want AJAX requests to your server to work from any domain, or in preview, you can
configure the server to send the following HTTP header:
Access-Control-Allow-Origin: *

This will enable AJAX requests from any domain, but you should still be aware of the possible
security implications of this. You may need to ensure this is set for all HTTP methods used,
including GET, POST, and also OPTIONS since cross-domain requests sometimes use that
method for "preflighted" requests. For more information on cross-domain requests see HTTP
access control (CORS) on MDN.

Use HTTPS
Since preview.construct.net runs on a secure server (HTTPS), you cannot make AJAX requests in
preview to insecure servers (HTTP). Browsers block this for security reasons. You may see
warnings related to "mixed content", which refers to this problem.
Therefore for cross-domain AJAX requests to work in preview mode, you must also make sure
your server is secure (using HTTPS). On the modern web this is best practice anyway, especially
since many other features only work on secure servers.

In NW.js
When exporting desktop applications with NW.js, the AJAX object can also load files from the
application folder. Simply use the Request URL action and enter the name of a file in the same
directory as the application, e.g. "example.txt" . Note if a project file exists with the same name,
this will always load the project file instead.

MIME types
AJAX requests for files on your own server requires that your server has the correct MIME types
set up.

Binary data
The AJAX object can receive resources as binary, and also post binary data, using the Binary
Data object. This is also useful to fetch local resources like canvas snapshot URLs or video
recording URLs, and load them in to a Binary Data object to do something else with them, like
save it to storage or upload it to a server.
To request a resource that is received as a binary, use it as follows:
1

Use the Set response binary action to specify a Binary Data object to receive the next request's
response.

2

Use the Request action to load a URL.

3

After the request completes and the response has finished downloading, On completed triggers.

Page 512 of 1146

Construct 3 Official Manual

4

Now the chosen Binary Data object has automatically been filled with the response data. (Note
in this case the LastData expression is not used.)

AJAX conditions
On completed

Triggered when a request with the same tag has completed successfully. The LastData
expression contains the response, unless the Set response binary action was used, in which
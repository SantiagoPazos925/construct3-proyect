# Manual Construct 3  Parte 15 (líneas 1680118000)

## Resumen
- case the selected Binary Data object now contains the response. (línea 7)
- On any completed (línea 8)
- Triggered when any request has completed successfully. The Tag expression identifies the (línea 10)
- request, and LastData contains the response. (línea 11)
- On error (línea 12)
- Triggered when a request with the same tag has failed. This can be for a number of reasons, (línea 14)
- such as the server being down or the request timing out. (The LastData expression is not set (línea 15)
- since there is no response.) (línea 16)
- On any error (línea 17)
- Triggered when any request has failed. The Tag expression identifies the request. (línea 19)
- On progress (línea 20)
- For long running downloads, On progress triggers periodically and updates the Progress (línea 22)
- expression with the state of the request. This is useful for making progress bars for things (línea 23)
- like large file downloads. (línea 24)
- On upload progress (línea 25)
- For long running uploads, On upload progress triggers periodically and updates the Progress (línea 27)
- expression with the state of the request. This is useful for making progress bars for things (línea 28)
- like large POST data uploads. (línea 29)
- AJAX actions (línea 31)
- Override MIME type (línea 32)

## Contenido

case the selected Binary Data object now contains the response.
On any completed

Triggered when any request has completed successfully. The Tag expression identifies the
request, and LastData contains the response.
On error

Triggered when a request with the same tag has failed. This can be for a number of reasons,
such as the server being down or the request timing out. (The LastData expression is not set
since there is no response.)
On any error

Triggered when any request has failed. The Tag expression identifies the request.
On progress

For long running downloads, On progress triggers periodically and updates the Progress
expression with the state of the request. This is useful for making progress bars for things
like large file downloads.
On upload progress

For long running uploads, On upload progress triggers periodically and updates the Progress
expression with the state of the request. This is useful for making progress bars for things
like large POST data uploads.

AJAX actions
Override MIME type

In some cases you may wish to interpret the server's response with a different MIME type to
the one the server indicates. For example a misconfigured server may return a text file with
the wrong character set, and you want to force the response to be interpreted as UTF-8. In
this case you could override the MIME type as text/plain; charset=utf-8 to avoid garbling
the text. This action only applies to the next AJAX request that is made, after which the
Page 513 of 1146

Construct 3 Official Manual

MIME type will be set back to the default setting of accepting what the server response
indicates.
Post to URL
Post binary to URL

Send a request with data to a URL and retrieve the response. A tag is provided to match it up
with the On completed, On progress and On error triggers. The binary variant can post the
contents of a Binary Data object to the server; otherwise a string is used. Construct does not
automatically URL encode the string - use the URLEncode system expression to ensure the
data is in the correct format for posting. Note string data is in the same format as a query
string, e.g. "foo=1&bar=2" . The method can also be specified: by default it is POST, but for
some APIs you may need to change this to PUT, DELETE or another HTTP method.
Request URL

Send a GET request to retrieve the contents of a URL. A tag is provided to match it up with
the On completed, On progress and On error triggers.
Request project file

Request the contents of a project file. A tag is provided to match it up with the On completed,
On progress and On error triggers.
Set request header

Set a HTTP header on the next AJAX request that is made. After the next AJAX request all
the headers set with this action are cleared again, so it only takes effect once.
Set timeout

Set the amount of time a request has to complete in seconds; if the timeout expires without
the request completing successfully, it will instead fail and trigger On error. This action only
affects subsequent requests, and does not affect any requests that have already started. If
the timeout is set to -1 it restores the default browser timeout.
Set with credentials

Set the with credentials setting for the next AJAX request that is made. After the next AJAX
request the setting will revert to its default (off), so it only takes effect once. When enabled,
sending a request with credentials will cause cross-site requests to be made using
credentials such as cookies and authorization headers. Internally this sets the
withCredentials property of XMLHttpRequest. More details can be found at the MDN
withCredentials documentation.
Set response binary

Page 514 of 1146

Construct 3 Official Manual

Use this action before a Request action to read the response in to a Binary Data object
instead of returning it as a string in the LastData expression. This allows for non-text
resources like images to be fetched and processed directly.

AJAX expressions
LastData

The contents of the last response. This is set in the On completed trigger. Note if Set
response binary was used, the response is in the chosen Binary Data object instead, and this
expression will return an empty string.
LastStatusCode

The HTTP status code of the last response, e.g. 200 for OK or 404 for Not Found. This is set
in the On completed trigger.
You can find a complete list of possible status codes and what they mean on the MDN
page HTTP response status codes.

Progress

Return the progress of the AJAX request in an On progress event. The progress is
represented as a number from 0 to 1, e.g. 0.5 for half completed.
Tag

The tag of the AJAX request in a trigger. This is useful to identify requests in On any
completed or On any error.

Page 515 of 1146

Construct 3 Official Manual

ARRAY
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/array

The Array object stores lists of values (numbers or text). It is analogous to arrays in traditional
programming languages.

Scripting
When using JavaScript or TypeScript coding, the features of this object can be accessed via the
IArrayInstance script interface. (JavaScript and TypeScript have built-in support for arrays, but
this allows interacting with an array used in event sheets.)

About Arrays
Array supports up to three dimensions. For example, a simple list of ten values would be a 10 x 1
x 1 array. Note that you should not set a size of 0 on any of the dimensions else the entire array
becomes empty; it is correct to have a size of 1 on unused dimensions.
Each element of an array can store a number or some text. The number or text in an element can
be changed with the Set actions, and accessed with the At expression. For example, a 10 x 10 x
1 array is analogous to a 2D grid with a total of 100 values. A number could be stored at the
position (3, 7) with the action Set at XY, and accessed with Array.At(3, 7) . Note like the rest of
Construct indices are zero-based, so the first element is at 0. In this example, Array.At(0, 0)
would return the first number in the grid.
Array can store either text or a number in any of the elements. Numbers and text can also be
mixed within an array.
Arrays do not automatically resize. If you access a value outside the array bounds, it returns the
number 0. If you set a value outside the array bounds, it will have no effect.

Designing arrays
You can use Construct's Array Editor Paid plans only to set the initial contents of an array. You
can create a new array data file as a project file from the Project Bar. At runtime you can load the
project file with the AJAX object and use the Array's Load action to read the data file from the
AJAX's LastData expression.

Manipulating arrays
A one-dimensional array, sized N x 1 x 1, serves as a simple list of N values. The actions in the
Manipulation category (e.g. Push, Pop) allow one-dimensional arrays to be used like other data
structures. (These actions work with multidimensional arrays, but are intended for the onedimensional case.)
Page 516 of 1146

Construct 3 Official Manual

For example, the following scheme implements a queue (first in first out, or 'FIFO'):
Add new items with Push front
Retrieve the next value with Array.Back
Remove the retrieved value with Pop back
The following scheme implements a stack (last in first out, or 'LIFO'):
Add new items with Push back
Retrieve the next value with Array.Back
Remove the retrieved value with Pop back

Array properties
Width (X dimension)
Height (Y dimension)
Depth (Z dimension)

The size of the array. If you want a one-dimensional array (i.e. a list of values), use A x 1 x 1.
If you want a two-dimensional array (i.e. a grid of values) use A x B x 1.
Elements Read-only

This property indicates the total number of elements in the array. If it is 0, the array is
completely empty and is unable to store any data. A common mistake is to set the Y or Z
axis sizes to 0 which causes the entire array to be empty; this property helps you identify this
mistake. Also using a huge array can cause very high memory use, and the element count
helps you identify this case as well.

Array conditions
Compare at X
Compare at XY
Compare at XYZ

Compare a value at a position in the array. Indices are zero-based. All values outside the
array return the number 0. If Compare at X is used, the Y and Z indices are 0. If Compare at
XY is used, the Z index is 0.
Compare size

Compare the size of one of the array dimensions, which is the number of elements on that
axis.

Page 517 of 1146

Construct 3 Official Manual

For each element

A repeating condition that runs once for each element in the array. This therefore runs width
x height x depth times.
Compare current value

Only valid in a For each element loop, either as a following condition or in a sub-event. This
compares the current value being iterated in the loop.
Contains value

Searches the entire array to check if any of the elements contains the given value. For
example, you can use this to test if the string "sword" is stored anywhere in the array.
Is empty

Test if the array is empty. The array is empty when the total number of elements is zero,
calculated as width x height x depth. Therefore the array is empty when any axis has a size of
zero. This can be useful when using Array as a data structure (e.g. when pushing and
popping values).

Array actions
Clear

Set every element in the array to the given value, which by default is the number 0.
Set at X
Set at XY
Set at XYZ

Write a value at a position in the array. Indices are zero-based. Writing to values outside the
array has no effect. If Set at X is used, the Y and Z indices are 0. If Set at XY is used, the Z
index is 0.
Set size

Set the dimensions of the array. Values are preserved, but if the new array is smaller it is
truncated. If the new array is larger, new elements are set to store the number 0. If any of the
dimensions are 0 the entire array is empty, so usually all the dimensions are at least 1.
Download

Invokes a browser download of a file containing the Array's contents in JSON format.

Page 518 of 1146

Construct 3 Official Manual

Load

Load the contents of the array from a string in JSON format. This can be retrieved from
either the Download action, the AsJSON expression, or the AJAX object loading a project file.
Note this does not allow loading arbitrary JSON data - the data must be in a special
format for Construct. If you want to load data from a project file, create it using the New
- Array menu option in the Project Bar.

Push

Add a new value either to the beginning (front) or end (back) of an axis. Since the Array is a
3D cube of values, technically this inserts a new 2D plane of elements all with the given
value. However in 1D arrays this adds a single element, and in 2D arrays it inserts a new row
of elements.
Pop

Delete the value at either the beginning (front) or end (back) of an axis. Since the Array is a
3D cube of values, technically this removes a 2D plane of elements. However in 1D arrays
this removes a single element, and in 2D arrays it removes a whole row of elements.
Insert

Insert a new value at a specific index on an axis. Since the Array is a 3D cube of values,
technically this inserts a new 2D plane of elements all with the given value. However in 1D
arrays this adds a single element, and in 2D arrays it inserts a new row of elements.
Delete

Delete the value at a specific index on an axis. Since the Array is a 3D cube of values,
technically this removes a 2D plane of elements. However in 1D arrays this removes a single
element, and in 2D arrays it removes a whole row of elements.
Reverse

Reverse the order of elements on an axis. Note that in multidimensional arrays this only
reverses one axis. For example reversing the X axis in a 2D array will reverse the order of the
columns while preserving the contents of each column.
Shuffle

Sort elements along a given axis into a random order. When using 2D or 3D arrays, then onedimensional arrays are independently shuffled depending on the chosen axis. For example
when choosing the X axis, every row is independently shuffled; when choosing the Y axis,
every column is independently shuffled.
Page 519 of 1146

Construct 3 Official Manual

Sort

Sorts the order of elements on an axis in ascending order. There are a variety of ways to sort
multidimensional arrays. The options are:
X axis (by column): sort the X axis by the first row of elements, moving entire columns
when rearranging the ordering. Where elements match in the first row, it will refer to
further elements down the Y axis as tie breakers.
X axis (separately): sort the X axis independently in every row.
Y axis (by row): sort the Y axis by the first column of elements, moving entire rows when
rearranging the ordering. Where elements match in the first column, it will refer to further
elements down the X axis as tie breakers.
Y axis (separately): sort the Y axis independently in every column.
Z axis: sort the Z axis independently in every 2D (X/Y) position in the array.
Split string

Sets the array to a one-dimensional list of items based on splitting a string by a certain
character. For example splitting the string "1,2,3" with the separator "," and type Auto
will set the array size to 3 x 1 x 1 with the numbers 1, 2 and 3. The Type parameter
determines whether values are read as strings or numbers. The default mode Auto will set
values as numbers if the token looks like a number, and a string if not. Setting the type to
String or Number will ensure all values are consistently set as the given data type. The array
can be converted back to a string with the JoinString expression.
Splitting string can work for simple cases but has limitations. For example it's not
possible for the separator to appear inside values, and it is not possible to explicitly
specify the data type of values. To handle more complex cases, use a more robust data
format like JSON.

Array expressions
At(x)
At(x, y)
At(x, y, z)

Retrieve a value at a position in the array. Indices are zero-based. Reading values outside the
array returns the number 0. If the Y or Z indices are not provided then 0 is used.

Page 520 of 1146

Construct 3 Official Manual

CurX
CurY
CurZ

The current zero-based index for each dimension in a For each element loop.
CurValue

The current value in a For each element loop. This is a shortcut for Array.At(Array.CurX,
Array.CurY, Array.CurZ) .

Width
Height
Depth

Return the size of each of the array's dimensions.
Front

Shortcut to access the first value in the array, which is the same as At(0, 0, 0) .

Back

Shortcut to access the last value on the X axis, which is the same as At(Self.Width - 1, 0,
0) .

IndexOf
LastIndexOf

Searches the array X axis for a given value and returns the index it is found at, or -1 if not
found. IndexOf finds the first matching element, and LastIndexOf finds the last matching
element.
AsJSON

Return the contents of the array as a string in JSON format. This can later be loaded in to the
array with the Load action.
JoinString(separator)

Convert a one-dimensional array to a string by converting every value to a string and joining
them together with a separator. For example if an array is sized 3 x 1 x 1 and stores the
values 1, 2 and 3, then the expression Array.JoinString(",") will return the string 1,2,3 .
This is effectively the reverse of the Split string action.

Page 521 of 1146

Construct 3 Official Manual

AUDIO
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/audio

The Audio object plays back audio files that have been imported to the project. The Audio object
must be added to each project that needs to use audio playback. Audio files can be imported to
a project by right-clicking the Sounds or Music folders in the Project Bar and selecting Import
sounds or Import Music, which brings up the Import Audio dialog. See the relevant manual
sections for more information on the steps involved to import audio files.
Construct comes with several examples of the Audio plugin; search for Audio in the Example
Browser to find them.

Scripting
When using JavaScript or TypeScript coding, this object can be accessed via the
IAudioObjectType script interface. This mainly provides access to the underlying Web Audio API
context.

Categorise audio files correctly
It is important to organise audio files appropriately, because audio files in the Sounds folder are
downloaded completely before playing, but files in the Music folder are streamed. This means if
a Music track is accidentally put in the Sounds folder, it would have to download completely
before it started playing, which could take a while. However, audio in the Music folder can start
playing immediately since it is streamed from the server.

Preloading sounds
The Preload sounds project property determines whether sounds (excluding music) are loaded
while the loading bar is showing. Preloading sounds means there is more to load before the
project can start, and memory use is higher due to having all sounds loaded, but all sound
effects can play immediately once it starts. If sounds are not preloaded, the project starts
sooner since it did not need to load any sounds, but sounds will be loaded on-demand during the
project. In other words, nothing is loaded until a Play action starts playing an audio file. Then it
starts loading and will play when ready. This also helps minimise memory usage since unused
audio is never loaded. However, it can introduce a delay before audio plays for the first time. The
delay on first play is a one-off, because after the first play the sound is already loaded and can
be played immediately if played a second time.
If Preload sounds is disabled, the Preload action can be used to start loading an audio file
without actually playing it. This can be done on Start of layout to start downloading a few
important sound effects so there is no delay when they are played for the first time. The Unload
actions can also be used to remove a loaded sound from memory. This allows you to manually

Page 522 of 1146

Construct 3 Official Manual

manage which sounds are loaded in to memory, which is important if you have a large library of
sound effects which would use a lot of memory if they were all preloaded.
Music is never preloaded, since music tracks often involve a large download size, and it is not
usually important to have music play with as little latency as possible. Music will still stream
while playing, but if the latency is important, the Preload action can be used to load it in advance
of playing.

Audio tags
Some actions affect audio parameters such as the volume for sounds which are already playing.
However there can often be many sounds playing at once in a project. In order to identify which
sounds you want to affect, sounds are played with an associated tag. This is any string that
identifies the sound. For example, the player's weapon sound effect could be played with the tag
"PlayerWeapon" and an enemy's weapon with the tag "EnemyWeapon". Then, the tag can be used
in the Set Volume action to specify which sound to set the volume for. Tags are case insensitive.
Multiple sounds can also play at once using the same tag. In this case actions like Set Volume
affect all the sounds playing with that tag.
A tag which is an empty string ("") has a special meaning: it refers only to the last sound played
with one of the Play actions. This is convenient for playing a sound and immediately setting its
volume and other parameters, without having to assign it a unique tag.

Multiple tags
Providing the Audio object property Enable multiple tags is enabled (it is on by default), then the
tag string can include multiple space-separated tags, such as "player weapon" and "enemy
weapon". Then when changing sounds such as to set the volume, all sounds with all the provided
tags will be updated. For example setting the volume for tag "weapon" will update sounds played
with tags "player weapon" and "enemy weapon", and setting the volume for tags "player", "player
weapon" or "weapon player" will update sounds played with the tags "player weapon".
There is one exception to using multiple tags, which is when using effects. Adding effects builds
up an effect chain which audio playback can be routed through. However a sound can only be
routed through one effect chain. Therefore when adding effects with multiple tags, the effect will
be added to multiple effect chains - once for each provided tag. Then when playing sounds with
multiple tags, the first tag determines which effect chain the sound is routed to.
If Enable multiple tags is disabled, then a tag with spaces is still treated as a single tag. This only
exists for backwards compatibility with projects made before the multiple tags feature was
introduced.

Autoplay restrictions
Most modern browsers have a limitation in starting audio playback. To avoid annoying users
generally browsing the web, audio playback cannot start until the user interacts with the page,
such as touching or clicking it. This is a limitation in the browsers themselves and cannot be
Page 523 of 1146

Construct 3 Official Manual

worked around. As a result, if you play audio on the start of layout, you may find it does not
actually start until the first user interaction.
Usually you do not need to handle this in your events. If audio cannot be played for any reason,
the Audio object will automatically queue it up for playback at the soonest opportunity (usually
when the user next clicks or touches). However you should be aware of this when designing your
project. For example if the first touch changes layout or stops the music, then the music may
never be heard. You may want to start playback then encourage the user to touch the screen
with a 'Play' icon or something similar.
The limitation is specific to web browsers. It does not apply if you publish a mobile app. Further,
browsers may lift the limitation in some circumstances, such as if you use the Install or Add to
home screen options, or if they identify over time that your web page is regularly used for audio
playback that the user wants.

Audio properties
Timescale audio

The project timescale can be used to speed up or slow down playback of the project, for
effects like slow-motion. See Delta-time and framerate independence for more information.
This property controls whether or not audio is affected by the project's timescale.
Off will play back audio the same regardless of the timescale.
On (sounds only) will play back audio from the Sounds project folder at a different rate
depending on the timescale, but will always play back audio from the Music project
folder at the same rate.
On (sounds and music) will play back all audio at a different rate depending on the
timescale.
Some browsers may not support audio timescaling at all; test on multiple browsers to
establish support.
Save/load

When using savegames, what audio state should be saved and restored.
All will save and restore all audio, so that music and sound effects rewind to the same
point they were saved at when loading.
Sounds only will only restore the sound effects playing at the time of the save, and allow
music to keep playing through unaffected when loading a game.

Page 524 of 1146

Construct 3 Official Manual

Music only conversely only restores the music playing at the time of the save, and allows
sound effects to keep playing through unaffected when loading a game.
None does not save or load any audio state at all. Audio will be completely unaffected
when loading a game, and any playing music and sound effects will continue to play out
to their end.
Play in background

If disabled, then switching browser tab, minimising the browser window, switching to a
different mobile app, or otherwise hiding the window will pause all audio and resume it when
switching back. This is intended to avoid annoying the user with continued music playback
when deciding to do something else, and also helps save battery on mobile. However for
some types of app such as music players it may be desirable to keep music playing in these
cases, in which case enabling the property allows continued audio playback even when in the
background.
Latency hint

Provide a hint to the audio engine about the preferred latency vs. power usage tradeoff.
Typically interactive content like games will prefer a low latency mode, but other uses like
music playback where latency is not important may prefer to use a more battery-efficient
mode. The options are:
Interactive (default): provides the lowest playback latency, but uses more battery power.
Balanced: a middle-ground providing medium playback latency with medium power use.
Playback: provides the highest playback latency, with the lowest power use, suitable for
purposes like music playback where the latency is not important.
Enable multiple tags

If checked, multiple tags can be specified for sounds by separating them with spaces, e.g.
"player weapon" would count as two separate tags "player" and "weapon". If disabled then
sounds can only have one tag, i.e. "player weapon" would be counted as a single tag name
including the space. This setting is enabled by default and only exists for backwardscompatibility with projects made before the introduction of the multiple tags feature. For
more information see the section Multiple tags above.
Panning model

How positioned sounds are panned. HRTF uses a realistic model of human hearing, whereas
equal power is a simple method that preserves the overall power in a stereo channel.

Page 525 of 1146

Construct 3 Official Manual

Distance model

The formula to determine volume reduction of positioned sounds relative to the distance to
the listener. The options are:
Linear, using the equation 1 - rolloffFactor * (distance - refDistance) / (maxDistance refDistance)
Inverse, using the equation refDistance / (refDistance + rolloffFactor * (distance refDistance))
Exponential, using the equation pow(distance / refDistance, -rolloffFactor)
Listener Z height

The height of the listener above the layout, in layout pixels, used to determine relative volume
and panning of positioned sounds. A low Z height will have intense changes over small
distances, whereas a high Z height will have smaller changes over larger distances.
Reference distance

The distance at which the volume of positioned sounds begins to reduce. For best results
this should be at least as much as the Listener Z height.
Maximum distance

The maximum distance in pixels beyond which positioned sounds no longer reduce their
volume.
Roll-off factor

How quickly the volume reduces as positioned sounds move away from the listener. A high
roll-off factor means sounds get quieter quickly, whereas a low roll-off factor means sounds
will not lose much volume.

Audio conditions
Is any playing

True if any audio is currently playing.
Is silent

True if the object has been set in to silent mode using the Set silent action.
Is tag playing

Page 526 of 1146

Construct 3 Official Manual
gp y g

True if any audio with a given tag is currently playing.
On ended

Triggered when a sound with a given tag finishes playing. This is not triggered for looping
sounds.
On fade ended

Triggered when a fade started by the Fade volume action finishes, for a given tag.
Preloads complete

True when all audio preloaded with one of the preload actions has finished loading.

Audio general actions
Play
Play (by name)

Start playing an audio file with a given tag. The latter action gives you the opportunity to use
an expression for the audio file name. The sound can optionally be set to looping when it
starts playing. A volume can also be set, given in decibels (dB). A volume of 0 dB is original
volume, and below 0 dB attenuates the sound. Note amplification is not supported. For
example, entering a value of -10 plays the audio back 10 dB quieter (about half as loud). A
stereo pan can also be provided, ranging from -100 (fully left) to 100 (fully right), with the
default 0 being middle. Prefer setting the intended volume and pan in the Play action; even if
followed immediately by a Set volume or Set stereo pan action, some platforms will
momentarily play the audio at the volume and pan given in the Play action.
Preload
Preload (by name)

Start loading an audio file so it has no delay before playing. See the section Preloading
sounds above for more information. Audio does not have to be preloaded before playing - it
is optional and only serves to possibly reduce the delay before audio plays for the first time.
Once all audio preloaded with this action finishes loading, the On preloads complete trigger
fires. Note if the project Preload sounds property is enabled, there is no point preloading any
sounds, since they will always be loaded before the project starts - in this case it only makes
sense to preload music.
Seek to

Seek a currently playing sound to a different location in the audio file. The time to seek to is
given in seconds.

Page 527 of 1146

Construct 3 Official Manual

Set looping

Set a sound either looping (repeating when it finishes) or not looping (stopping when it
finishes).
Set master volume

Set the overall volume that is applied to all audio playback.
Set muted

Set a sound either muted (silent) or unmuted (audible).
Set paused

Pause or resume some audio by its tag.
Set playback rate

Change the rate a sound plays back at. If the Timescale audio property is used, it combines
with the playback rate set by this action.
Set silent

Enable, disable or toggle Silent mode. In silent mode all currently playing sounds are muted
and no new sounds will play. This is useful for quickly creating an audio toggle on a title
screen.
Set volume

Change the volume of a sound. The volume is given in decibels (dB). A volume of 0 dB is
original volume, and below 0 dB attenuates the sound. Note amplification is not supported.
For example, entering a value of -10 plays the audio back 10 dB quieter (about half as loud).
Note it is best to set the initial volume in the Play action instead of setting it with this action
immediately after playing, since that can sometimes cause a moment of playback at the
wrong volume.
Fade volume

Change the volume of a sound over time. This is typically used for fade-in and fade-out
effects. The sound will fade from its current volume to the given level in decibels (dB), over
the given time period in seconds. When the fade finishes, the sound can either automatically
be stopped, or keep playing. For a fade-in, typically the sound will be initially played at a low
volume (e.g. -100 dB) and faded in to a high volume (e.g. 0 dB), and keep playing when the
fade finishes. For a fade-out, typically the sound will be playing at a high volume (e.g. 0 dB)
and faded to a low volume (e.g. -100 dB), and then stopped when the fade finishes, so there

Page 528 of 1146

Construct 3 Official Manual

isn't an inaudible sound still playing. Note if Set volume is used during a fade, the fade is
cancelled and the sound will be left at the volume specified by Set volume.
Stop

Stop a sound playing immediately.
Stop all

Stop all currently playing sounds.

Audio effects actions
A selection of well-known audio effects can be added using the Add effect actions. Each tag has
its own effect chain, and multiple effects can be added to a tag. All audio played with the given
tag is then processed by the effect chain. This can be used to create environmental effects and
other creative audio features. Audio signal processing is a complex topic and somewhat out of
the scope of this manual, so it will not be detailed exhaustively here. Anyone with light
experience in audio recording or production should already be familiar with all the effects
available. For interactive examples, search for Audio in the Example Browser. A brief summary of
each effect is provided below.
Analyser: doesn't change the audio, but can report back frequency domain data
Compressor: automatically boost or reduce volume to even out the overall volume level
Convolution: an advanced effect using another sound as an impulse response to process
the audio. This allows for real-world locations to be recorded and the environmental reverb
applied
Delay: a feedback loop with a delay, making a sort of simple echo effect.
Distortion: a guitar-amplifier style signal distortion
Filter: boost or reduce certain frequencies, such as a low-pass filter (which cuts out high
frequencies). Useful for simple atmospherics, treble/bass adjustment, etc.
Flanger: delays the sound by a few milliseconds then mixes it back in with itself. By
oscillating the delay time a sweeping effect is created
Gain: a volume control, which might be useful in longer effect chains. The Mute effect is also
simply a zero gain effect, which can be useful to add after analysers (so the audio is
analysed, but not heard).
Phaser: phase-shifts the sound then mixes it back in with itself. By oscillating the phase shift
another sweeping effect is created
Stereo pan: a stereo pan control, allowing an entire group of sounds to be panned left or
right together.
Tremolo: automatically oscillates the volume up and down, also known as amplitude
modulation. Some interesting amplitude modulation effects can be created by moving the
Page 529 of 1146

Construct 3 Official Manual

modulation frequency in to the audible range (above 20 Hz).
Ring modulator: like tremolo, but oscillates all the way through to a full phase inversion
The Remove all effects action clears a tag's effects chain, allowing you to add a different
selection of effects. The Set effect parameter action also allows effect parameters to by
dynamically set or faded during playback. Each effect also has a wet/dry mix which can be used
to fade in and fade out effects.

Audio memory actions
Unload all audio

Release all loaded audio files from memory. Any subsequently played audio will need to be
loaded again.
Unload audio
Unload audio (by name)

Release a specific loaded audio file from memory. If the audio file is not loaded, this has no
effect. Any subsequent playback of the audio file will need to load it again. This allows
manual control of which audio files are in memory.

Audio panning/positioning actions
Play at object
Play at object (by name)

As per the ordinary Play actions, but the sound is positioned at an object. If the object moves
(including changing Z elevation) or rotates during playback, the sound follows with it. A cone
can be specified to create directional sounds, which follows the object's angle.
Play at position
Play at position (by name)

As per the Play at object action, but the sound does not move. It is just played at a fixed
position and angle in the layout. A Z co-ordinate can also be specified to play a sound at a
given Z elevation, or for full 3D audio support when used with Set listener orientation.
Set listener object

Set the object that positioned sounds are calculated relative to. Typically this is set to the
object representing the player on Start of Layout.
Set listener orientation

Page 530 of 1146

Construct 3 Official Manual

By default the listener is oriented for a 2D game. However when using 3D Camera to move
the view in 3D, it is also useful to change the listener orientation to match that of the camera
for positioned sounds to play back correctly in 3D space. The listener orientation is specified
using two vectors: a forwards vector (the direction the listener is facing in), and an up vector
(which determines the orientation along the forwards vector). These can usually be set to the
LookVectorX/Y/Z and UpX/Y/Z expressions of the 3D Camera object.
Set listener Z

Set the Listener Z property of the audio object, which affects the calculation of positioned
sounds.
Set stereo pan

Change the stereo pan of a sound. The pan is a number ranging from -100 (fully left) to 100
(fully right), with 0 being middle. Note it is best to set the initial pan in the Play action instead
of setting it with this action immediately after playing, since that can sometimes cause a
moment of playback with the wrong pan.
Setting the stereo pan of a positioned sound will turn off positioning in order to apply the
stereo pan.

Audio scheduling actions
Schedule next play

This action causes the next Play action (all variants) to be delayed until the specified time.
The delayed playback is sample-accurate. Typically events are only run every 16ms making it
difficult to schedule sounds more accurately than that, but this action allows for perfectly
scheduled playback, even in between ticks. If the specified time is in the past, it will play
immediately. The time given must be relative to the audio hardware clock, which is returned
by the CurrentTime expression, so typically sounds will be scheduled a short time ahead
using an expression of the form Audio.CurrentTime + N. See the Audio scheduling example in
the Start Page for a demonstration.
Note that audio scheduling works best if you set the Use worker project property to No.
This is because worker mode does not have direct access to the audio clock, which adds
a small amount of latency and variance to playback which may be noticeable when
scheduling.

Audio web actions
Add remote URL

Page 531 of 1146

Construct 3 Official Manual

Play audio from a URL by adding it first with this action. Specify the URL to be played, the
type (aka the MIME type) of the audio to be played, and pick a name to use for this URL. On
its own this action does nothing - no request will be made to the given URL. However you can
then pass your chosen name to the other actions that work "by name", such as Play (by
name) or Preload (by name), it will then play from the URL you associated with that name. If
these actions ask for the folder, it is not really used, but chooses whether the audio is fully
downloaded and decoded before playback (for Sounds), or streamed (for Music). As with any
other audio file, you can use the Preload (by name) action to preload the audio at the given
URL, to ensure subsequent playback starts promptly.
WebM Opus is the only audio format that works across all browsers and platforms. To
ensure your audio works everywhere, make sure the URL serves WebM Opus audio.
Otherwise whether or not audio playback works will depend on the audio codec support
of the current browser/platform.

Audio expressions
AnalyserFreqBinAt(Tag, Index, Bin)

Get the magnitude of energy in an analyser's frequency bin. AA analyser effect must already
be added to a tag. Index must be the index of the effect (for example, 0 if the analyser is the
first added effect for that tag, 1 if the second added effect, and so on). Bin is the frequency
bin number to retrieve from, up to AnalyserFreqBinCount.
AnalyserFreqBinCount(Tag, Index)

Get the number of frequency bins returned by an analyser. An analyser effect must already
be added to a tag. Index must be the index of the effect (for example, 0 if the analyser is the
first added effect for that tag, 1 if the second added effect, and so on).
AnalyserPeakLevel(Tag, Index)

Get the peak level of audio in the last FFT window from an analyser. Index must be the index
of the effect (for example, 0 if the analyser is the first added effect for that tag, 1 if the
second added effect, and so on). The value is returned in dBFS (0 dB for peak level, and
negative values for lower). If you intend to use this value it is recommended to use an FFT
size of 1024, because at a system sample rate of 44.1 KHz the value will update about 43
times a second. Projects usually run at 60 FPS, and smaller FFT sizes may cause FFT
windows to be missed since they change faster than the framerate.
AnalyserRMSLevel(Tag, Index)

Get the RMS level of audio in the last FFT window from an analyser (the square root of the
average of the squared sample values). Index must be the index of the effect (for example, 0
if the analyser is the first added effect for that tag, 1 if the second added effect, and so on).
Page 532 of 1146

Construct 3 Official Manual

The value is returned in dBFS (0 dB for peak level, and negative values for lower). If you
intend to use this value it is recommended to use an FFT size of 1024, because at a system
sample rate of 44.1 KHz the value will update about 43 times a second. Projects usually run
at 60 FPS, and smaller FFT sizes may cause FFT windows to be missed since they change
faster than the framerate.
EffectCount(Tag)

Get the number of effects in the effect chain for a tag.
CurrentTime

Get the audio clock time in seconds. Where supported, this is returned from the audio
hardware, providing the correct time against which to schedule audio playback. It is
important to use this value to calculate playback times in the Schedule next play action.
Duration(Tag)

Get the duration in seconds of an audio sample with a tag.
This expression will only return the correct value once the audio has finished loading and
decoding. If you need to access the value immediately after starting playback, consider
first preloading the sound.

NormalizedVolume(Volume, dbThreshold)

This is a helper expression to convert a volume expressed in the range 0-100 (such as with a
slider bar in a user interface) to a dB value suitable for actions such as Set volume. The
dbThreshold parameter is the dB that will be set for a volume value of 10 (e.g. -40). The
returned dB volume will start at 0 for volume value 100 and linearly drop to dBThreshold at
volume value 10. Below that, the last 0-10 range is a linear dropoff in linear range, i.e. the dB
level will drop off much more quickly until it reaches -Infinity at volume value 0 for silence.
MasterVolume

Return the current master volume set using the Set master volume action.
OutputLatency

The time in seconds reported by the system as the estimated output latency, i.e. the time
between the system sending an audio buffer to play, and the time at which the first sample in
the buffer is actually processed by the audio output device. This can vary between devices
and can also change over time. If the value is unavailable or unknown, it will return 0.
The output latency will remain unknown until playback actually starts if autoplay

Page 533 of 1146

Construct 3 Official Manual

restrictions are in place.

PlaybackRate(Tag)

Get the current playback rate of a sound with a tag. The default playback rate is 1, and is set
with the Set playback rate action.
PlaybackTime(Tag)

Get the current playback time in seconds of a sound with a tag. This starts at 0 and counts
up to the duration, except for looping sounds which keep counting up past the duration.
SampleRate

Return the audio output sample rate in Hz, typically 44100 or 48000.
Volume(Tag)

Get the volume set for a sound with a tag.

Page 534 of 1146

Construct 3 Official Manual

BBC MICRO:BIT PLUGIN
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/bbc-micro-bit

The BBC micro:bit plugin allows communicating with the BBC micro:bit single-board computer
via Bluetooth.

Setup
For a guide on getting started using a BBC micro:bit in Construct, please refer to the tutorial
Getting started with the BBC micro:bit. This also covers the system requirements for the feature.
This manual entry is a reference only for Construct's BBC micro:bit plugin.

BBC micro:bit properties
Enable accelerometer
Enable buttons
Enable magnetometer
Enable temperature
Enable LED display

Check the corresponding boxes to enable using the various features of the BBC micro:bit
from the plugin. If any feature is disabled, note the corresponding conditions, actions and
expressions for that feature will not work. Turning off unused features may improve the
reliability of the Bluetooth connection. If you do turn off features, don't forget which ones, to
avoid confusion in case you try to start using that feature later on as you will then need to reenable it.

BBC micro:bit conditions
Is device connected

True if a device is currently connected via Bluetooth.
Is supported

True if the current browser/platform supports Bluetooth features necessary for
communicating with the device (the Web Bluetooth API).
On device connected

Triggered after the Request device action successfully connects to a device over Bluetooth.

Page 535 of 1146

Construct 3 Official Manual

On device disconnected

Triggered when the Bluetooth connection to a device is lost. This may be intentional (e.g.
using the Disconnect device action) or due to losing the Bluetooth signal.
On request device failed

Triggered after the Request device action if it failed to establish a Bluetooth connection to a
device. This includes the user cancelling the prompt to connect to a device.
On accelerometer reading

Triggered while connected to a device whenever a reading from the accelerometer sensor is
received via Bluetooth. This requires Enable accelerometer to be checked in the object's
properties. The reading is available via the accelerometer expressions.
On bearing reading

Triggered while connected to a device whenever a reading from the magnetometer sensor is
received via Bluetooth. This requires Enable magnetometer to be checked in the object's
properties. The reading is available via the Bearing expression.
Bearing readings may be unavailable unless the device is calibrated.

On button pressed

Triggered while connected to a device whenever one of the device buttons is pressed,
released or held down for a moment (also known as "long pressed"). This requires Enable
buttons to be checked in the object's properties.
On temperature reading

Triggered while connected to a device whenever a reading from the thermometer is received
via Bluetooth. This requires Enable temperature to be checked in the object's properties. The
reading is available via the Temperature expression.

BBC micro:bit actions
Request device

Request to connect to a BBC micro:bit device over Bluetooth. This must be used in a user
input trigger, such as a button click or a tap, as browsers block requests not started by user
input. If a Bluetooth connection is established successfully, On device connected will trigger.
If the user cancels or the request is otherwise unsuccessful, On request device failed will
trigger.

Page 536 of 1146

Construct 3 Official Manual

Disconnect device

Disconnect from a currently connected device. All communication with the device will stop
and both the Construct project and the device will become available to connect to something
else.
Clear LED state

Reset the LED state stored in the plugin so that all LEDs are set to off. Note this does not
affect the device until the Update LEDs action is used.
Set LED state

Set one of the LED states on or off in the state stored in the plugin. The LED is specified by
its zero-based column and row, so note that the first column and first row have the index 0.
Also note that as the device has a 5x5 display, the last columna nd row index that can be
used is 4. Note this does not affect the device until the Update LEDs action is used.
Update LEDs

Send the current LED state stored in the plugin to the device via Bluetooth. This requires
Enable LED display to be checked in the object's properties. Note that the Clear LED state and
Set LED state actions do not affect the device: they only update the LED state stored in the
plugin. This action then transmits the LED state stored in the plugin to the device for display,
so the former actions can be used to set up the intended LED display, and then this action
used to update the actual display on the device.
Scroll text

Display a short message (up to 20 characters) on the device's LED display. This requires
Enable LED display to be checked in the object's properties.

BBC micro:bit expressions
DeviceID

A string with a unique ID for the connected device.
AccelerometerRawX
AccelerometerRawY
AccelerometerRawZ

The raw accelerometer readings received from the device, updated in On accelerometer
reading. Each axis returns a number ranging from -1 to 1. The raw readings are the
unmodified readings as determined by the sensor - these readings can be "noisy" and have a

Page 537 of 1146

Construct 3 Official Manual

lot of variation in them, so it may be preferable to use the smoothed readings, or implement
your own smoothing calculation.
AccelerometerSmoothedX
AccelerometerSmoothedY
AccelerometerSmoothedZ

Smoothed accelerometer readings received from the device, updated in On accelerometer
reading. Each axis returns a number ranging from -1 to 1. The smoothed readings employ a
simple calculation to eliminate some of the noise in the raw readings, which can be helpful
for a smoother and more reliable reading.
Bearing

The bearing reading in degrees from due north, updated in On bearing reading. This requires
Enable magnetometer to be checked in the object's properties, and note the device must be
calibrated before readings will be received.
Temperature

The thermometer reading in degrees celcius, updated in On temperature reading. This
requires Enable temperature to be checked in the object's properties.

Page 538 of 1146

Construct 3 Official Manual

BINARY DATA
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/binary-data

The Binary Data plugin allows raw access to an allocated section of memory (often referred to
as a buffer). For example it could allocate 16 bytes of memory, and read and write anywhere in
that buffer as individual bytes, 32-bit integers, floating point numbers, text, and so on.
A comprehensive description of how binary data/computer memory storage works is out of the
scope of this manual. However there is lots of information on the Internet that covers it, and
most computer science or computing courses will also cover it. The Binary Data object is also
useful even if you do not access its contents: it integrates with other plugins like AJAX and Local
Storage, allowing binary data such as images to be stored or transferred in useful ways. Despite
the name, Binary Data can also store text, using the Set from text action and GetAllText
expression, which can be useful with other plugins such as Cryptography.
Construct expressions, like JavaScript, only use double-precision floating point numbers
(Float64). When reading and writing other data types with Binary Data, they are converted to
and from Float64 - no other types are used in expressions. Fortunately Float64 can store all
other types losslessly.

The Binary Data object starts empty (with a zero byte buffer). You must set its length or load
data from another source before reads and writes can be used.

Unlike unmanaged languages like C, the Binary Data object is implemented in the memorysafe language JavaScript. This means the binary data cannot be used unsafely: out-ofbounds writes are ignored, and out-of-bounds reads return 0.

Scripting
When using JavaScript or TypeScript coding, the features of this object can be accessed via the
IBinaryDataInstance script interface. (JavaScript and TypeScript have support for binary data
built-in, but this allows for interacting with binary data used in event sheets.)

Binary Data properties
Endian

The default endian to use when reading and writing binary values.

Page 539 of 1146

Construct 3 Official Manual

Binary Data conditions
Compare length

Compare the length of the data buffer, in bytes.
Compare value

Read a value of a given data type at an offset in the data buffer, and then compare that value
to another number.

Binary Data actions
Copy

Copy data from another (or the same) Binary Data object. This does not change the size of
the buffer. The Start and Length specify the range of data in the source Binary Data object to
copy, defaulting to copying the entire buffer. The Target is a byte offset to write the copy at.
Fill

Fill a range of the buffer with copies of the same value. For example this can be used to fill
an entire range of the buffer with zero bytes. The Offset and Length can be used to specify a
byte range to fill, but they default to covering the entire buffer.
If you fill a value other than Int8 or Uint8, make sure the range size is a multiple of the
size of the data type. For example if you fill with a Uint32 value, make sure the range is a
multiple of 4 bytes. If the range is not a multiple, the end of the range will not be filled,
e.g. filling a 5 byte range with a 4 byte value will only write the first 4 bytes and will not
alter the last byte.

Set endian

Change the endian used when reading and writing values.
Set from base64

Set the contents of the Binary Data object from the contents of a base64-encoded string.
This decodes the base64 string to binary and changes the buffer size to fit it.
Set from Binary Data

Set the contents of the Binary Data object to a copy of another Binary Data object. This
changes the size of the buffer to be the same as the other object.
Set from text

Page 540 of 1146

Construct 3 Official Manual

Set the contents of the Binary Data object to a text string encoded as UTF-8. This changes
the size of the buffer to fit.
Set length

Set the size of the memory buffer in bytes. Note Binary Data initially has a zero sized buffer,
so this must be used first before any reads or writes can complete. The existing data is
preserved when changing the size; if the new size is smaller, data is truncated, and if the new
size is larger, zero bytes are added.
Set value

Write a value of a given data type at a byte offset in the memory buffer. The entire value
must be within the bounds of the buffer, otherwise the write is ignored. For example a 4-byte
Uint32 value cannot be written anywhere in a 3-byte buffer, because all four bytes must be
inside the buffer.
Compress
Decompress

Use a compression algorithm to compress or decompress the data stored in the Binary Data
object. The supported compression algorithms are GZIP and DEFLATE. The same algorithm
as used for compression must be used for decompression. Compression algorithms work by
identifying and eliminating repeating patterns in data and can significantly shrink the amount
of data. However the effectiveness depends on the size and type of data. Small amounts of
data, or highly unpredictable data, generally does not compress well; large amounts of highly
repetitive data generally compresses very well. See the Compression example for a
demonstration.
These actions are asynchronous, which means they can take a moment to complete
while working in the background. Use the system action Wait for previous actions to
complete before using any further actions to work with the resulting data.

Binary Data expressions
ByteLength

Return the current length of the buffer in bytes.
GetBase64

Return the entire contents of the data buffer encoded as a base64 string. This is useful when
binary data must be stored in a text-based format like JSON.

Page 541 of 1146

Construct 3 Official Manual

Base64 data is larger and slower to process than the equivalent binary data. It is more
efficient to avoid converting to base64 where possible. For example instead of posting
an image to a server as a base64 string, the AJAX object is able to post a Binary Data
object directly.

GetURL

Return a URL that can be used locally to load the binary data. For example if the Binary Data
represents an image, this URL can be passed the Sprite object's Load image from URL action
to load the image from the Binary Data object.
The URL is a blob: URL referring to data in memory. It can only be used in the same
session, in the same browser, on the same device. Sharing the URL or saving it to be reused in another session later will not work.

The provided URL will be valid until the next time the data stored in the Binary Data
object changes. For example while the data stays the same, the GetURL expression
continues to return the same URL. However if any part of the Binary Data object's stored
data changes, the URL returned by the GetURL expression will change, and the old URL
will become invalid and no longer work.

GetUint8(byteOffset)
GetInt8(byteOffset)
GetUint16(byteOffset)
GetInt16(byteOffset)
GetUint32(byteOffset)
GetInt32(byteOffset)
GetFloat32(byteOffset)
GetFloat64(byteOffset)

Read a value of the corresponding type from the buffer at a byte offset. The entire value
must be within the bounds of the buffer, otherwise it returns 0. For example a 4-byte Uint32
value cannot be read from a 3-byte buffer, because all four bytes must be inside the buffer.
Construct expressions, like JavaScript, do not use different number types and instead
treat all values as Float64. Therefore the read value is always converted to Float64 for
use in expressions.

GetText(byteOffset, length)

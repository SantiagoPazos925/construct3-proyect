# Manual Construct 3  Parte 22 (líneas 2520126400)

## Resumen
- On joined room (línea 7)
- Triggered after the Join room or Auto-join room actions when the room has been (línea 9)
- successfully joined. The Is host condition can be used to determine if the player is the first (línea 10)
- joining peer and has been assigned the room host. (línea 11)
- On left room (línea 12)
- Triggered after the Leave room action when the room has been left. The room is also left if (línea 14)
- On kicked triggers. (línea 15)
- On logged in (línea 16)
- Triggered after the Log in action if the login is successful. Once logged in it is possible to join (línea 18)
- rooms. Note the signalling server may have assigned a different alias to the one requested if (línea 19)
- On room list (línea 26)
- Triggered after the Request room list action when the room list has been successfully (línea 28)
- received. The room list expressions can then be used to inspect the received list. (línea 29)
- Multiplayer actions (línea 31)
- Transfer peer binary (línea 32)
- Begin a binary data transfer to a peer identified by their peer ID. The data to send is in a (línea 34)
- specified Binary Data object. An optional tag, filename and MIME type may be specified (línea 35)
- which the receiver can also use. For more details see the section on Binary transfers above. (línea 36)
- Cancel binary transfer (línea 37)
- Cancel a currently in progress binary transfer specified by the peer ID it is being sent to and (línea 39)

## Contenido

On joined room

Triggered after the Join room or Auto-join room actions when the room has been
successfully joined. The Is host condition can be used to determine if the player is the first
joining peer and has been assigned the room host.
On left room

Triggered after the Leave room action when the room has been left. The room is also left if
On kicked triggers.
On logged in

Triggered after the Log in action if the login is successful. Once logged in it is possible to join
rooms. Note the signalling server may have assigned a different alias to the one requested if
it was already taken; use the MyAlias expression to determine the actual alias in use.

Page 722 of 1146

Construct 3 Official Manual

On room list

Triggered after the Request room list action when the room list has been successfully
received. The room list expressions can then be used to inspect the received list.

Multiplayer actions
Transfer peer binary

Begin a binary data transfer to a peer identified by their peer ID. The data to send is in a
specified Binary Data object. An optional tag, filename and MIME type may be specified
which the receiver can also use. For more details see the section on Binary transfers above.
Cancel binary transfer

Cancel a currently in progress binary transfer specified by the peer ID it is being sent to and
the tag of the transfer. Both the sender and receiver will fire the cancelled event and no
further data will be transmitted.
Add client input value

Use on startup to add a value that peers send to the host to indicate their input state. Each
client input value has a tag to identify it; use this tag to update the value with the Set client
state action. To avoid wasting bandwidth, use the lowest Precision that can still hold all the
values that need to be set. If using setbit / getbit to send key states, you must use None for
Interpolation; otherwise use Linear for values like positions, or Angular if representing an
angle.
Associate object with peer

If Sync object is used on objects which represent peers in the game, use this action to
associate an instance of an object with a given peer. Typically this is used in the object's On
created trigger. Both the host and peers must associate objects with peers. Associated
objects are automatically destroyed when the corresponding peer leaves.
Disconnect

Disconnect from the room. If the room host, all players are kicked; otherwise the peer
disconnects from the host. The room is also left on the signalling server, so another room
can be joined afterwards.
Send message

Send a message to a specific peer with a given reliability mode. Peers can only message the
host (and the Peer ID field must be left empty), but the host can send a message to any peer.
Message tags can be used to identify messages for different purposes, such as "chat" or
"gameplay-event". The message must be a text string, but could also be JSON data such as
Page 723 of 1146

Construct 3 Official Manual

from an Array or Dictionary AsJSON expression; however be sure to avoid wasting
bandwidth. The order messages arrive, or whether it is guaranteed to arrive at all, depends
on the reliability mode.
Send binary message

As with Send message, but the data to be sent is specified by a Binary Data object. Binary
messages do not use a tag, although this data can be incorporated in the transmitted data.
The underlying networking technologies usually impose a limit on the maximum size of
binary data that can be transmitted in a single message. Commonly this is in the range
64 KB - 256 KB (although this limit applies after automatic data compression, so
sometimes larger messages may be allowed if they compress to within the allowed
size). To send larger amounts of data such as for file transfers, use the binary transfer
feature instead.

Set bandwidth profile

Switch between Internet or LAN (Local Area Network) bandwidth modes. The bandwidth
profile must be set before joining a room, and only the host's setting is used for all peers in
the room. The default mode is Internet, which sends updates 30 times a second with an
80ms buffer. LAN mode sends updates 60 times a second with a 40ms buffer. LAN mode will
use about double the bandwidth of Internet mode and will degrade gameplay quality more if
there is latency or PDV in the connection. LAN mode should never be used for Internet
games - it is intended for networks where bandwidth is effectively unlimited and latency
effectively zero, which is typically only the case with local area networks, and taking
advantage of this can improve gameplay quality. Internet mode should however work well
over LANs, so if in doubt leave it on that.
Simulate latency

Simulate latency, PDV and packet loss on all inbound and outbound messages. This can be
useful for making local testing more realistic, since unlike the Internet latency is effectively
non-existent. For local testing it is only necessary to simulate latency on the host, since that
guarantees every message in the game will have delay added; it is not necessary to also
simulate latency on the peers. The latency for an individual message is calculated as the
latency plus a random value from zero to the PDV. The packet loss indicates the chance an
unreliable message is lost entirely, or in the case of reliable messages that retransmission is
necessary and the latency is multiplied.
Sync object

Automatically sync an object. The host sends information about synced objects to peers.
This is one-way transmission; peers sync with what is happening on the host. As synced
objects are created, moved and destroyed on the host, they are correspondingly created,
moved and destroyed on all connected peers. It is important to disable any behaviors and
Page 724 of 1146

Construct 3 Official Manual

deactivate any events on the peers that may attempt to move the objects themselves; this
will conflict with what Sync object is trying to do, and will not have any effect on the host.
Peers should use their client input values as their sole way of influencing the game.
Synced objects can optionally include their position and/or angle with a given precision. If no
position or angle is selected, then it simply ensures the same numbers of objects are
created.
Syncing without a position, or with only one axis, causes objects to be created at a coordinate of -1000, as there is not full information about the synced object's position
being sent. In that case its up to your project to correctly position the object.
Bandwidth can be used to reduce the number of updates it is necessary to send for a synced
objects.
Normal bandwidth (unpredictable) will send updates for the object at most every update
(30 times a second in Internet mode) and is suitable for objects with unpredictable
movement.
Low bandwidth (highly predictable) will send updates at most 10 times a second, which
should only be used for highly predictable motion such as moving in a straight line at the
same speed (it is not enough to handle changes in motion smoothly).
Very low bandwidth (essentially static) will send updates at most twice a second, which
should only be used for objects which are not expected to move but nevertheless can
occasionally be created or destroyed, such as scenery.
Note that even in Normal bandwidth mode, objects which are not changing gradually reduce
their bandwidth to twice a second anyway, so static objects will still end up using Very low
bandwidth mode. Therefore it is not normally necessary to change this, and it is suitable to
use Normal bandwidth even for objects which rarely change.
Note Sync object does not support objects in containers. You should make sure any
synced objects are not in a container, sync each object separately, and if necessary
associate them through events.

Sync instance variable

Add an instance variable to sync with an object. The host sends the values of the instance
variable for each object to the peers, keeping them up to date. The chosen object must
already first be synced with Sync object.
The Precision corresponds to the precision for Sync object, with an additional Very low (uint8,
1 byte) option, useful for bitwise flags.
Interpolation can be None (updates in steps), linear (linearly smoothed interpolation between
values, suitable for positions), or angular (rotational interpolation between angles).
The Client value tag should be the name of the corresponding client input value, if any, to help
Page 725 of 1146

Construct 3 Official Manual

ensure the host can sync the instance variable with minimal latency.
Note: text instance variables cannot be synced, only numbers. To share text data between
peers, use messages instead.
Broadcast message

As with Send message, but can only be used by the host. This sends a message to every peer
in the room. From ID can be used to indicate the message is being sent on behalf of another
peer; if it is used, when peers receive the message the FromID and FromAlias will be set to
this peer. Also the message will not be sent to the specified From ID peer, since usually this is
redundant. If it is empty, it will be sent to all peers and received as from the host.
Kick peer

When host, forcibly disconnect a peer from the room so they are no longer participating. The
kicked peer will be notified that they have been disconnected and optionally the kick reason
can be displayed. Peers cannot kick anyone, only the host can.
Enable local input prediction

Enable local input prediction on an object representing the local player. The object must be
associated with the local peer's ID, and the game logic must correctly attempt to move both
the local player and the player on the host in exactly the same way with correct use of client
input values. This allows local controls to have immediate effect, but apply correction if the
host position starts to deviate from the local position. See the fourth multiplayer tutorial for
more information. There are two additional options for customizing how local input
prediction is handled:
Avoid solids: if enabled, input prediction will avoid moving the object into any solid. If
input prediction would have moved the object so that it overlaps a solid, it instead leaves
the object in its current position.
Platform mode: if enabled with an object using the Platform behavior, this detects if the
Platform behavior is currently standing on the floor, and when it is then input prediction
on the Y axis is disabled. This can help avoid a jittery movement when landing on the
floor.
The precise settings to use depend on the type of game and movement in use - some
experimentation may be required to determine the best input prediction settings.
Set client state

In On client update, set the value of a client input value by its tag. The value must be a
number, and Add client input value must have been used on startup to add a value with the
given tag in advance.
Add ICE server

Page 726 of 1146

Construct 3 Official Manual

Add a custom Interactive Connectivity Establishment (ICE) server used by WebRTC to
establish connections between peers. There are a couple of built-in public STUN servers
used, but you can also provide your own TURN servers to enable connectivity through certain
kinds of NAT. A username and credential can also be optionally provided if the server
requires them. This action should be used on startup, before any connections are made.
Auto-join room

Join the first available room with the given game, instance and first room name. The player
must be connected and logged in to the signalling server. The first player to join a room
becomes the host. When rooms are full, the signalling server will create a new room. For
example if "myroom" is full, it will try "myroom2", "myroom3", etc. This effectively arranges all
joining peers in to games of a particular size. If the room is locked when full, then late-joiners
are not allowed; if left unlocked and a peer leaves after the game starts, a newly joining peer
may be added back to the game to top it up to the Max peers again. Upon joining, On joined
room triggers.
Connect

Connect to a signalling server. The official Scirra signalling server is at
wss://multiplayer.construct.net. Upon successful connection, On connected will trigger.
Disconnect

Disconnect from the signalling server. This can be done once peer-to-peer connections are
established if the signalling server is no longer necessary, but note that will prevent any new
peers from joining the game late.
Join room

Join a specific room in the given game instance. The player must be connected and logged
in to the signalling server. The first player to join a room becomes the host. Max peers can be
used to limit the number of peers that join. Only the host's value is used. If the room is full,
subsequently joining peers will receive a "room full" error. The peer count includes the host,
so 2 is the minimum value, or it can be left as 0 to allow an unlimited number of peers to join.
Upon successfully joining, On joined room triggers.
Leave room

If in a room, leaves the room on the signalling server. On left room triggers upon the server
acknowledging the request to leave. Note the room has not really been left until that trigger
runs.
Log in

Page 727 of 1146

Construct 3 Official Manual

Once connected, log in to the signalling server. Players must log in before they can join
rooms. The Alias is the requested display name to use. Note that if the requested alias is
already taken, the server will automatically assign an alternative; be sure to use the MyAlias
expression after logging in to determine the actual alias in use. Upon a successful login, On
logged in triggers.
Request game instance list

Request a list of active game instances within the given game. When the response is
received On game instance list triggers and the name and total number of peers in the
returned instances can be listed using the List... expressions.
Request room list

Request a list of active rooms within a given game instance. The returned list can include all
rooms, only rooms which are unlocked, or only rooms which are available to join (unlocked
and not full). When the requested list is received, On room list triggers.

Multiplayer expressions
Filename
MIMEType

In a binary transfer, the filename and MIME type specified by the sender. These expressions
are available on the receiving end in both the receive started and completed triggers.
TransferProgress

During a binary transfer and in a progress event (fired for both senders and receivers), this
returns the current transfer progress on a scale of 0 to 1 (e.g. 0.5 being 50% complete).
TransferSize

In a binary transfer, the size in bytes of the data to be transmitted. This is set on the receiving
end in the receive started event so the receiver knows ahead of time how big the data will be.
(Once the transfer has completed, the size can also be obtained from the chosen Binary Data
object.)
ListInstanceCount

After On game instance list triggers, the number of game instances in the received list.
ListInstanceName(index)
ListInstancePeerCount(index)

Get the name and peer count of a given game instance in the returned instance list.
Page 728 of 1146

Construct 3 Official Manual

ListRoomCount

After On room list, the number of rooms in the received list.
ListRoomName(index)
ListRoomPeerCount(index)
ListRoomMaxPeerCount(index)
ListRoomState(index)

After On room list, retrieve information for a room at an index in the received list. The state
can be one of "available", "locked" or "full".
FromAlias
FromID

The alias and ID of the peer a message is from in On message received or On any message
received.
HostAlias
HostID

When in a room, the alias and ID of the host of the room.
LeaveReason

A string identifying a reason for leaving in On peer disconnected, if known, e.g. "quit",
"timeout", "network error"...
Message

The contents of the received message in On message received or On any message received.
PeerAlias
PeerID

The alias and ID of the relevant peer in a trigger like On peer connected or On peer
disconnected.
PeerCount

The number of peers in the current room, including the host.
PeerAliasAt(index)
PeerIDAt(index)

Page 729 of 1146

Construct 3 Official Manual

The alias and ID of the nth peer in the current room, up to PeerCount.
PeerAliasFromID(peerid)

Get the alias of a peer in the current room from their peer ID.
PeerIDFromAlias(alias)

Get the ID of a peer in the current room by their alias.
PeerLatency(peerid)
PeerPDV(peerid)

Get the latency and packet delay variation (PDV) of a peer from their peer ID. Peers can only
use this to get the stats for the host, since that is the only connection they have, but the host
can use it for any peer.
Tag

The tag of the received message in On any message received. This expression is also used
by binary transfers, returning the tag of the current binary transfer in any of the binary
transfer triggers.
LagCompensateAngle(movingPeerID, fromPeerID)
LagCompensateX(movingPeerID, fromPeerID)
LagCompensateY(movingPeerID, fromPeerID)

Return the lag-compensated position and angle for movingPeerID as seen by fromPeerID. In
other words, this returns the past position of movingPeerID going back by the amount of
time that fromPeerID is delayed by, given their latency. For example this can be used to
perform a lag-compensated hit-test when fromPeerID shoots a laser. This is covered in more
detail in the fourth multiplayer tutorial.
PeerState(peerid, tag)

When host, retrieve the latest client state value with the given tag, for a given peer ID. The
peer will have set this with the Set client state action to indicate their input state.
CurrentGame
CurrentInstance
CurrentRoom

Retrieve the current game, instance and room names, if joined on the signalling server.
ErrorMessage

Page 730 of 1146

Construct 3 Official Manual
ErrorMessage

In On signalling error, the error message if available.
MyAlias
MyID

The current player's own alias and ID, once connected and logged in to the signalling server.
SignallingMOTD
SignallingName
SignallingOperator
SignallingURL
SignallingVersion

Once connected to the signalling server, retrieve the Message Of The Day (MOTD), server
name, server operator, website URL and server version for the connected server.
ClientXError
ClientYError

The input prediction error for peers, used for debugging.
HostX
HostY

The position the host has for the current peer, used for debugging.
StatInboundBandwidth
StatOutboundBandwidth

Return the total estimated inbound and outbound bandwidth transmitted over the network, in
bytes per second. When automatic data compression is in use, this measures the
compressed size of the data actually sent over the network.
StatInboundDecompressedBandwidth
StatOutboundDecompressedBandwidth

Return the total estimated decompressed inbound and outbound bandwidth for all data
transmission through the Multiplayer object, in bytes per second. When automatic data
compression is in use, this measures the size of the decompressed messages, which may
be significantly larger than the data actually sent over the network, measured by the
StatInboundBandwidth and StatOutboundBandwidth expressions. Together these expressions
can also be used to identify the compression ratio (i.e. how much bandwidth is saved by
compression).

Page 731 of 1146

Construct 3 Official Manual

StatInboundCount
StatOutboundCount

Return the total number of separate inbound and outbound messages sent and received by
the Multiplayer object. This includes internally-used messages for things like ping and
synchronisation; generally the bandwidth is the more practically useful statistic.

Page 732 of 1146

Construct 3 Official Manual

NW.JS
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/nw-js

The NW.js object allows access to features specific to the NW.js exporter Paid plans only, such
as reading and writing files to the local disk drive.
Note that the AJAX object can read files from the application folder (but not write files) when
exporting to NW.js. Further, the File System object provides ways to access local files and
folders from browsers and is also supported in both NW.js and Windows WebView2 exports.
This may allow you to implement file operations in a more cross-platform manner.

What is NW.js?
NW.js is essentially a standalone version of the Google Chrome web browser, but while looking
like an ordinary desktop app (so there are no browser tabs, address bar, back/forward buttons
etc). Exporting using NW.js allows your project to run as a standalone desktop app on Windows,
Mac and Linux, and does not require any particular other browser to be installed.

Using file paths correctly
Never hard-code paths (such as using an action to write to a fixed file path like
"C:\MyGame\MyFile.txt"). This is unfriendly to users, and is often perceived as unprofessional,
untidy, or filling the user's system with junk. Not only that but in many cases it simply will not
work, since not all users have permission to read or write to folders outside of their user
directory.
It is tempting to solve this by writing files to the application's folder. However this also may not
work; on many versions of Windows, the Program Files folder requires administrator permission
to write to, although you can read from it.
The solution is to write to the user's folder, which you almost certainly have write permission for.
This is provided by the UserFolder expression. The correct way to determine a file path in the
user's folder is like this:
NWjs.UserFolder & "myfile.txt"

If you only need to read files, and don't need to write them, you can safely use the application
folder ( NWjs.AppFolder ) instead.

Text file encoding
The NW.js object has the ability to read and write text files on disk. To support all possible
languages, it always reads and writes with the UTF-8 encoding. To ensure the plugin reads your
own text files correctly, ensure they are encoded as UTF-8.

Page 733 of 1146

Construct 3 Official Manual

NW.js conditions
On folder dialog OK
On folder dialog cancel

Triggered after the Show folder dialog action, depending on if the user selected OK or Cancel.
The ChosenPath expression contains the selected folder after an OK.
On open dialog OK
On open dialog Cancel

Triggered after the Show open dialog action, depending on if the user selected OK or Cancel.
The ChosenPath expression contains the selected file to open after an OK.
On save dialog OK
On save dialog Cancel

Triggered after the Show save dialog action, depending on if the user selected OK or Cancel.
The ChosenPath expression contains the selected file to save after an OK.
On binary file read
On any binary file read

Triggered after the Read binary file action when the read completes. The file data is now
available in the chosen Binary Data object. The "any" variant triggers regardless of the tag,
which can be retrieved with the FileTag expression.
On binary file written
On any binary file written

Triggered after the Write binary file action when the contents of the chosen Binary Data
object have been successfully written to the file. The "any" variant triggers regardless of the
tag, which can be retrieved with the FileTag expression.
On file dropped

Triggered after the user drag-and-drops a file in to the application window. The DroppedFile
expression contains the path to the file that was dropped in, allowing you to load it to read its
contents.
On file system error

Triggered when any file operation fails, such as attempting to write a file in a folder the user
does not have permission to access. The FileError expression contains more information
about the type of error.

Page 734 of 1146

Construct 3 Official Manual

Path exists

Test if a given folder or file path exists on the user's system.

NW.js actions
Show folder dialog

Open a dialog allowing the user to pick a folder on their local system. If the user selects OK,
On folder dialog OK triggers and the ChosenPath expression contains the selected folder.
Show open dialog

Open a dialog allowing the user to choose a file to open on their local system. If the user
selects OK, On open dialog OK triggers and the ChosenPath expression contains the selected
file. The Accept parameter is a comma-separated list of file extensions or MIME types that
the dialog can use to filter possible files. For example, ".txt,.json" will allow filtering by all .txt
or .json files, and "text/*" will allow filtering by any file with a text MIME type.
Show save dialog

Open a dialog allowing the user to choose a file to save to on their local system. If the user
selects OK, On save dialog OK triggers and the ChosenPath expression contains the selected
file. The Accept parameter is a comma-separated list of file extensions or MIME types that
the dialog can use to filter possible files. For example, ".txt,.json" will allow filtering by all .txt
or .json files, and "text/*" will allow filtering by any file with a text MIME type.
Append file

Add some text to the end of the file. This is usually faster than writing the full file again with
some new content at the end. Appending to files can be useful for logging.
Copy file

Make an identical binary copy of a file at a new location.
Create folder

Create a new folder on the user's local system.
Delete file

Delete a file from the user's local system. Be sure to use this carefully, since a mistake could
mean deleting the wrong file.
List files

Page 735 of 1146

Construct 3 Official Manual

Read a list of every subfolder and file in a given folder. After this action the ListCount and
ListAt expressions can be used to return the items in the list.
Move file

Make an identical binary copy of a file at a new location, then delete the old file. Note you
should use the Rename file rather than the Move file action if you intend to move it to a new
name in the same folder.
Open browser

Open the default browser on the system to a given URL.
Read binary file

Read the contents of a file to a Binary Data object. When the read completes, On binary file
read triggers. A tag can be used to distinguish multiple parallel reads.
Rename file

Set a new name for an existing file path.
Run file

Run the file at an existing file path. Typically this is used for executable programs. To open a
different kind of file, use the Shell open action.
Shell open

Open a file with the system default application. (The name "Shell" means the operating
system user interface, which handles the default applications.) For example using Shell open
on a .pdf file will open the default PDF viewer on the system to view that file.
Write binary file

Write the contents of a Binary Data object to a file. When the write completes, On binary file
written triggers. A tag can be used to distinguish multiple parallel writes.
Write text file

Write a text file to the user's local system. If the file does not exist, it is created. If the file
already exists, its content is overwritten.
Unlike writing binary files, this operation completes synchronously, i.e. the action waits
for the write to complete before the next action runs.

Page 736 of 1146

Construct 3 Official Manual

Maximize

Maximize the window on the user's desktop. It will take up most (but usually not all) of the
display.
Minimize

Minimize the window to the operating system start bar or dock.
Request attention

Perform an operating-specific activity to show attention is required from the user, such as by
flashing the title bar of the window.
Restore

Restore the window to show it again after minimizing.
Set always on top

Set whether the window always appears on top of other windows.
Set width
Set height

Set the dimensions of the window. Note this includes the window title bar and borders, so
the actual displayed area of the game may be less than the window size you set.
Set maximum size
Set minimum size

Set the maximum and minimum sizes that the user can resize the window to.
Set resizable

Enable or disable resizing of the window.
Set title

Set the text that appears in the title bar or caption of the window.
Set X
Set Y

Set the position of the window on the user's desktop, in pixels relative to the top-left of the
primary monitor.

Page 737 of 1146

Construct 3 Official Manual

Show dev tools

Since NW.js is based on Chromium, this action brings up the Chromium developer tools
(such as Javascript debugger and console). This may be useful to inspect console
messages or for developing plugins with the Javascript SDK.
Unmaximize

Undo a window maximize, restoring the window to its previous size.

NW.js expressions
ArgumentAt(index)
ArgumentCount

Retrieve the command-line arguments the application was launched with. The number of
arguments is provided, and each can be accessed by its zero-based index.
ChosenPath

Return the path that was selected after On folder dialog OK, On open dialog OK or On save
dialog OK.
AppFolder
AppFolderURL

Return the path to the application's folder, including the trailing slash. Read permission can
be expected, but write permission cannot be guaranteed (for example the Program Files
folder on Windows requires administrator permission to write to).
The URL version of the expression prefixes file:// to the path. Use the URL variant
when a URL is required, or the normal version when a file path is required.

DroppedFile

In On file dropped, the path to the file that was dropped in to the application's window.
FileError

In On file system error, a string with details about the type of error that occurred.
FileSize(path)

Return the size of a given file, in bytes.

Page 738 of 1146

Construct 3 Official Manual

FileTag

In a trigger like On any binary file read, this returns the tag of the associated action that
resulted in the trigger.
ListAt(index)

After the List files action, returns the file or folder name at the zero-based index in the list.
ListCount

After the List files action, returns the number of files or folders in the list.
ProjectFilesFolder
ProjectFilesFolderURL

Return the path to the folder containing project files, including the trailing slash. This is
useful for accessing any additional files imported to the project. Read permission can be
expected, but write permission cannot be guaranteed (for example the Program Files folder
on Windows requires administrator permission to write to).
The URL version of the expression prefixes file:// to the path. Use the URL variant
when a URL is required, or the normal version when a file path is required.

ReadFile(path)

Open the given file and return its text content as a string. Note that each time this expression
is used the file is opened and read from disk. Therefore if the expression is used twice, the
file is opened and read twice, which can impact performance. If necessary first read the file
to a variable, then reference the variable multiple times.
Note that unlike reading binary files, this operation completes synchronously, i.e. the
expression waits for the read to complete before the rest of the expression, or any more
events, are run.

UserFolder

Return the path to the user folder, which is typically where the user's documents and other
personal files are kept. Both read and write permissions can be expected.
WindowWidth
WindowHeight

Page 739 of 1146

Construct 3 Official Manual

Retrieve the current size of the window in pixels. Note this includes the window title bar and
borders, so may be larger than the display area of the game.
WindowTitle

Get the current text showing in the window title bar or caption.
WindowX
WindowY

Get the current position of the window in pixels relative to the top-left point of the user's
primary monitor.

Page 740 of 1146

Construct 3 Official Manual

PARTICLES
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/particles

The Particles object can quickly create visual effects by creating and moving many small
images independently. It is a versatile object capable of many different kinds of visual effects.
There are several examples in the Example Browser, ranging from fire to fountains; search for
Particles to find them. The image below shows an example of one of the particle effects
possible with the object.

The Particles object has many parameters to change the behavior of each particle. Also, it
requires a texture used to draw each particle. Often a simple white spot on a black background is
sufficient.
The Additive blend mode works especially well with the Particles object. It makes each particle
brighten the background rather than pasting its image over the background, and allows particles
to blend in to each other as well rather than simply overlapping. This makes particles look more
like light sources. The below image shows what the effect does when the texture is a white spot
on a black background.

Page 741 of 1146

Construct 3 Official Manual

Using Additive blend on particles

Colored effects can be created using colored particle images. Note that since the Additive effect
brightens the background towards white, any objects using an Additive effect will not show up
on a white background. The effect works best on dark backgrounds.
For more information about blend modes and effects, see the manual section on Effects.

Scripting
When using JavaScript or TypeScript coding, the features of this object can be accessed via the
IParticlesInstance script interface.

Particles in the Layout View
The Particles object is represented in the Layout View by two red lines which represent the spray
cone (the angle through which particles are fired), with the particle texture in the middle. The
Particle object's origin is where particles are created from. An example is shown below on the
left, with the effect at runtime on the right.

The size of the particles object in the layout view is not important. The object will automatically
size itself at runtime to fit all the particles it has created.

Previewing particle effects
Paid plans only Enable the Preview property to run the particle effect directly in the Layout View.
As you edit the particle object's properties, the preview will update in real-time. This is a much
faster way to get the exact effect you want compared to having to preview each time.

Page 742 of 1146

Construct 3 Official Manual

How particle effects work
The particle effect works similarly to using the Bullet behavior on each particle. Initially particles
are fired forwards at a given speed and at an angle within the spray cone. Each particle is then
individually controlled with different alterations to its speed, angle, opacity and size during its
lifetime. The fact particles move independently of the others is often what makes the visual
effect interesting. The various properties of the Particles object control exactly how the particles
change over time and what random alterations are made. It is worth spending some time
changing parameters to see the effect they have for yourself.
There are three different settings for when particles are destroyed, set by the Destroy mode
property. The default Fade to invisible will fade each particle's opacity to zero over the Timeout,
destroying the particle when it becomes invisible. Timeout expired will simply destroy the particle
after an amount of time, without changing its opacity. Particle stopped will destroy the particle
when its speed reaches zero, but you must take care to ensure particles slow down with a
negative acceleration otherwise they will never be destroyed!

Advanced particle effects
By default, the Particles object draws particles using its own image. However you can specify an
object instead by choosing another object, such as a Sprite, in the Object property. In this case
the Particles object will then spawn and move instances of that object instead of drawing its
own particles. This provides a similar visual result, but allows for much more flexibility. For
example you can rotate the objects that are spawned, use behaviors and effects on them, or
even test them for collisions.
Note that using objects for particles is slower than letting the Particles object draw its own
particles.

Optimisation
When the Particles object is drawing its own particles (i.e. not using an object), it is more
efficient than creating the same effect with objects, but not by a large margin. Just like with
sprites, you should be aware that creating a large number of particles can have a serious
performance impact on your project. Use the ParticleCount expression to monitor how many
particles are being created. Creating more than a few hundred particles may start to impact the
framerate.
To reduce particle counts, try reducing the rate or shortening the timeout. To compensate, you
can try making the particle size larger so the effect does not get thinner.
When using objects for particles, note that this is slower, and the performance can get worse if
every object is different (e.g. using effects with different parameters) or mixed up in the Z order
(e.g. other objects appear in between particles in the Z order). For best performance keep all the
particle objects as similar as possible and ensure they aren't Z ordered individually.

Page 743 of 1146

Construct 3 Official Manual

Particle Properties
The Particles object has a relatively many properties, which are split in to three groups: particle
spray properties (relating to the Particles object itself), initial particle properties (relating to the
creation of each individual particle) and particle lifetime properties (relating to how particles
behave after creation).

General
Rate

The number of particles created per second. If Type is One-shot, this is the total number of
particles fired. Note that in Continuous spray mode, the overall particle count may be
significantly more than the rate depending on the other properties. Also note that in One-shot
mode, the rate can only be changed immediately after the object has been created; after the
first tick, using the Set rate action will have no effect.
Spray cone

The number of degrees through which particles are fired. This is represented by the red lines
in the Layout View. Use 360 to fire particles in all directions.
Type

The Particles object can work in two modes:
Continuous spray will create a constant spray of particles (the default).
One-shot will create a single blast of particles, the total number set by Rate. Once all
particles have been destroyed, the Particles object then destroys itself. This is useful for
one-off effects like explosions or impacts.
Image

Click to open the Animations editor to edit the particle image. Try a spot on a transparent
background, or on a black background with the Additive effect. Note the image is not used if
an object is set instead.
Object

Create instances of an object for each particle instead of drawing the particle image. For
more information see the section Advanced particle effects above. Note this mode is slower
than using a particle image.
To unselect an already chosen object, open the object picker, click Clear selection, and

Page 744 of 1146

Construct 3 Official Manual

then click OK.

Initially visible

Set whether the object is shown (visible) or hidden (invisible) when the layout starts.
Preview Paid plans only

Enable to run a preview of the particle effect directly in the Layout View. You can change the
other particle properties and see their effect in real-time.

Initial particle properties
Speed

The initial speed each particle is fired at, in pixels per second.
Size

The initial size of each particle, in pixels. Particles are always shown as squares, but the
shape can be customised with the particle image.
Opacity

The initial opacity of each particle, from 0 (transparent) to 100 (opaque).
Grow rate

The initial grow rate (change in size over time) for each particle, in pixels per second. 0
means the particle will always stay the same size. A positive value will make particles grow,
and a negative value will make particles shrink.
X randomiser
Y randomiser

The initial offset to the particle's position. You can make particles created along a line or in a
box with these properties.
Speed randomiser

A random adjustment to each particle's initial speed on creation. For example, a value of 100
will change each particle's initial speed by up to 50 pixels per second faster or slower.
Size randomiser

Page 745 of 1146

Construct 3 Official Manual

A random adjustment to each particle's size on creation. For example, a value of 20 will
change each particle's initial size by up to 10 pixels larger or smaller.
Grow rate randomiser

A random adjustment to each particle's grow rate on creation. For example, a value of 10 will
change each particle's initial grow rate by up to 5 pixels per second greater or less.

Particle lifetime properties
Acceleration

Change in particle speed over time, in pixels per second per second. A positive value will
make particles speed up, and a negative value will make them slow down.
Gravity

The acceleration downwards caused by gravity, in pixels per second per second. Useful for
making fountain or other falling particle effects. Set to 0 to prevent gravity having any effect
on particle movement.
Angle randomiser

A random change to each particle's angle to apply during its lifetime. For example, set to 0 to
prevent particles ever changing direction, or set to 10 to allow particles to randomly change
direction a little over time.
Speed randomiser

A random change to each particle's speed to apply during its lifetime. For example, set to 0
to prevent the speed changing, or set to 100 to allow particles to speed up or slow down
somewhat over time.
Opacity randomiser

A random change to each particle's opacity to apply during its lifetime. Useful for creating
"twinkling" effects.
Destroy mode

How each particle is destroyed. There are three modes available:
Fade to invisible will fade each particle's opacity to zero over the Timeout. When the
particle becomes invisible, it is destroyed.

Page 746 of 1146

Construct 3 Official Manual

Timeout expired simply destroys each particle after the Timeout has expired, without
altering the opacity.
Particle stopped destroys each particle when its speed reaches zero. You must take care
to use a negative Acceleration, or particles will never be destroyed!
Timeout

The time in seconds particles last for before being destroyed, depending on the Destroy
mode.

Particle conditions, actions and expressions
Most of the Particle object's actions and expressions just set or get the above properties. See
the above properties for a reference. The other conditions, actions and expressions not relating
to the above properties are documented below.
For features in common to other objects, see Common features.

Particle conditions
Is spraying

True if the particle spray is currently enabled.

Particle actions
Set spraying

Enable or disable the spray, when in Continuous spray mode. When disabled, no new
particles are created.
Fast-forward

Skip ahead the particle effect by a time in seconds. For example fast-forwarding by 3
seconds will cause the Particles object to instantly spawn, move and destroy particles as if 3
seconds had gone by. This is useful for making sure particle effects appear ready
immediately, rather than taking a few seconds to move their particles out from the spawn
point.

Particle expressions
ParticleCount

The number of particles the Particles object currently has. This is important to ensure you
are not creating too many particles and slowing the project down; see the Optimisation
section above. Note that due to the way Construct expressions work, if you have multiple
Page 747 of 1146

Construct 3 Official Manual

Particle object instances, this will only return the particle count for one of the instances - use
a For Each loop to count multiple instance's total particle count.

Page 748 of 1146

Construct 3 Official Manual

PLATFORM INFO
View online: https://www.construct.net/en/make-games/manuals/construct-3/plugin-reference/platform-info

The Platform info object returns information about the system, device and browser.

Scripting
When using JavaScript or TypeScript coding, the features of this object can be accessed via the
IPlatformInfo script interface, typically accessed via the runtime.platformInfo property. Note
that this interface is always available in script regardless of whether the Platform Info object has
been added to the project.

Platform info conditions
Is Cordova export

True when running after a Cordova-based export. Cordova is used to export Android and iOS
apps, and implies that the platform is mobile and the OS is either Android or iOS.
Is Linux wrapper export

True when running after a Linux wrapper export, and implies the platform is desktop and the
OS is Linux.
Is macOS wrapper export

True when running after a macOS wrapper export, and implies the platform is desktop and
the OS is macOS.
Is NW.js export

True when running after an NW.js export, and implies the platform is desktop.
Is web export

True when running after a web-based export. This is also true in preview mode, so that any
features based on these export conditions will act as if it's in a web-based export in preview
mode.
Is Windows wrapper export

True when running after a Windows wrapper export, and implies the platform is desktop and
the OS is Windows.

Page 749 of 1146

Construct 3 Official Manual

On network change

Triggered when the network connection changes, e.g. when moving from a Wifi network to a
cellular data network. The network-related expressions will update in this trigger to reflect
values for the new network.
Is on Android
Is on Chrome OS
Is on iOS
Is on Linux
Is on macOS
Is on Windows

These conditions check which operating system (OS) the project is currently running on. For
example in Chrome on Windows, Is on Windows will be true; in an Android app, Is on Android
will be true; and so on. Note these conditions are not exhaustive: there may be platforms
where none of these six conditions are true.
macOS was formerly known as OS X.

Is on mobile

Test if the current device reports itself as a "mobile" device.
This condition may not work like you expect. Many devices lie about their device class for example modern iPads tell websites they are macOS desktop devices in order to get
the desktop experience. Further it is probably unwise to rely on this detection anyway, as
there is no clear definition of "mobile device". For example tablets can be used with the
touchscreen only and act like a mobile device, or have a keyboard and/or mouse
attached and be used like a desktop. It would also be wrong to use this condition to
check if the device will use touch input (see the detecting input method for a better
approach). This condition just reports whatever the device indicates to web content,
which may or may not be what you want.

Is wake lock active

True if a Request wake lock action has successfully completed and the screen is currently
being kept on.
Is wake lock supported

True if the current browser/platform supports using wake locks to keep the screen on.

Page 750 of 1146

Construct 3 Official Manual

On wake lock acquired

Triggered after the Request wake lock action if the lock was successfully acquired. The
screen will be kept on until On wake lock released triggers.
On wake lock error

Triggered if an error occurs while attempting to request a wake lock. The screen will not be
kept on.
On wake lock released

Triggered when an existing wake lock is released, meaning the screen may once again
automatically turn off due to inactivity. This can happen after a Release wake lock action, or
automatically in some circumstances, such as if the browser tab or app goes in to the
background. To keep the screen on after this trigger, another wake lock must be requested.

Platform info actions
Request wake lock

Request a wake lock to keep the screen on permanently, preventing it automatically dimming
or switching off due to inactivity. Note this increases power usage so will drain battery more
quickly. If successful, On wake lock acquired triggers; otherwise On wake lock error triggers.
A wake lock might only be granted in a user input trigger, such as On touch end.

The wake lock could be released at any time after being acquired. Use the On wake lock
released trigger to identify if the wake lock ended.

Release wake lock

If a wake lock is currently active, release it, so the screen may once again dim or turn off due
to inactivity.

Platform info expressions
DeviceMemory

Return the approximate amount of device memory (RAM) in gigabytes. For privacy reasons
some platforms will round the result, so it may not match the exact amount installed on the
system. Additionally this value is not available on some browsers or platforms, in which case
it will return 0.

Page 751 of 1146

Construct 3 Official Manual

HardwareConcurrency

Return the number of hardware threads supported by the CPU. This is normally at least the
number of CPU cores. Many modern CPUs support multiple hardware threads on a single
CPU (e.g. Hyper-threading), and a common case is for each CPU to support two hardware
threads, so this is often double the number of CPU cores. For privacy reasons some
platforms will round the result, so it may not match the exact number of hardware
threads/CPU cores available on the system. If the value is not available, it will return 0.
However almost all consumer devices have at least two CPU cores.
CanvasCssWidth
CanvasCssHeight

Return the size of the main display canvas in CSS pixels. This does not correspond exactly to
device (physical display) pixels, but is the appropriate size from a web design perspective in
px units.

CanvasDeviceWidth
CanvasDeviceHeight

Return the size of the main display canvas in device (physical display) pixels. Unlike the CSS
size, this size reflects the number of actual pixels used in the display.
DevicePixelRatio

Return the number of device (physical display) pixels per CSS pixel. For example a high-DPI
display may have a device pixel ratio of 2, meaning there are two device pixels per CSS pixel.
This value also reflects the browser zoom level, which works by adjusting the device pixel
ratio. The concept of the device pixel ratio also allows web pages using px units to appear
the same size on higher density displays where physical pixels are much smaller.
Renderer

Return a string indicating the graphics rendering technology in use. This can be "webgl1" ,
"webgl2" or "webgpu" . It can also have a -software suffix if a "major performance caveat"
is detected, which normally indicates slower software rendering, typically due to unreliable
GPU drivers. For example, software-rendered WebGL 1 support would return "webgl1software" .

RendererDetail

Return a string describing system-specific detail about the graphics hardware in use. This
typically describes the GPU manufacturer and model name, and sometimes some hardware
capabilities.

Page 752 of 1146

Construct 3 Official Manual

SafeAreaInsetLeft
SafeAreaInsetTop
SafeAreaInsetRight
SafeAreaInsetBottom

The inset around the edges of the screen in CSS pixels of a rectangular area that is always
visible (hence safe to use for displaying anything important without it risking being cut off).
This only applies for devices with non-rectangular screens, notably mobile devices with a
notch, or in some cases devices with rounded edges in the corners of the screen. Devices
with a standard rectangular display will return 0 for these values.
ScreenWidth
ScreenHeight

Get the size of the current display screen. Note this often includes areas not available to
applications, such as a desktop taskbar, or mobile status bar.
WindowInnerWidth
WindowInnerHeight

Get the inner size of the current window. This is the size of the window content area that is
available to the application.
WindowOuterWidth
WindowOuterHeight

Get the outer size of the current window. This includes the window browser, caption, browser
address bar etc. which is not generally available to the application.
ConnectionEffectiveType

Return a string rating the effective type of the connection based on the comparable cellular
data connection generation, e.g. "2g" , "3g" , "4g" .

ConnectionRTT

Return the estimated round-trip time (latency) of the connection in milliseconds. This is the
time it takes for a network message to be sent to the remote host and a reply to be received
back.